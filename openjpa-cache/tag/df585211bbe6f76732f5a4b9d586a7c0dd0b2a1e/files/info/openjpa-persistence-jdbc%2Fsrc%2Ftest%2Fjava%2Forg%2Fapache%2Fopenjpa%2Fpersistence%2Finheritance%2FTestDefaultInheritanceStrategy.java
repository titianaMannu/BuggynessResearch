{"sha":"2838e269e43940e8b12fe0b7faf7356403d5090b","node_id":"MDQ6QmxvYjIwNjM2NDoyODM4ZTI2OWU0Mzk0MGU4YjEyZmUwYjdmYWY3MzU2NDAzZDUwOTBi","size":24015,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/2838e269e43940e8b12fe0b7faf7356403d5090b","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuaW5oZXJp\ndGFuY2U7CgppbXBvcnQgamF2YS5sYW5nLnJlZmxlY3QuTWV0aG9kOwppbXBv\ncnQgamF2YS51dGlsLkxpc3Q7CgppbXBvcnQgamF2YXgucGVyc2lzdGVuY2Uu\nRW50aXR5TWFuYWdlcjsKaW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLlF1ZXJ5\nOwoKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5qZGJjLm1ldGEuQ2xhc3NN\nYXBwaW5nOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMubWV0YS5E\naXNjcmltaW5hdG9yOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLmpkYmMu\nc2NoZW1hLkNvbHVtbjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJz\naXN0ZW5jZS5PcGVuSlBBRW50aXR5TWFuYWdlcjsKaW1wb3J0IG9yZy5hcGFj\naGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5pbmhlcml0YW5jZS5lbnRpdHkuQWJz\ndHJhY3RDbGFzczsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0\nZW5jZS5pbmhlcml0YW5jZS5lbnRpdHkuQmFzZUNsYXNzOwppbXBvcnQgb3Jn\nLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmluaGVyaXRhbmNlLmVudGl0\neS5CYXNlQ2xhc3MyOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNp\nc3RlbmNlLmluaGVyaXRhbmNlLmVudGl0eS5CYXNlQ2xhc3MzOwppbXBvcnQg\nb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmluaGVyaXRhbmNlLmVu\ndGl0eS5CYXNlQ2xhc3M0OwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBl\ncnNpc3RlbmNlLmluaGVyaXRhbmNlLmVudGl0eS5CYXNlQ2xhc3M1OwppbXBv\ncnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmluaGVyaXRhbmNl\nLmVudGl0eS5CYXNlQ2xhc3M2OwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBh\nLnBlcnNpc3RlbmNlLmluaGVyaXRhbmNlLmVudGl0eS5NYW5hZ2VkSWZhY2U7\nCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuaW5oZXJp\ndGFuY2UuZW50aXR5Lk1hbmFnZWRJZmFjZTI7CmltcG9ydCBvcmcuYXBhY2hl\nLm9wZW5qcGEucGVyc2lzdGVuY2UuaW5oZXJpdGFuY2UuZW50aXR5Lk1hcHBl\nZFN1cGVyOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNl\nLmluaGVyaXRhbmNlLmVudGl0eS5NaWRDbGFzczsKaW1wb3J0IG9yZy5hcGFj\naGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5pbmhlcml0YW5jZS5lbnRpdHkuTWlk\nQ2xhc3MyOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNl\nLmluaGVyaXRhbmNlLmVudGl0eS5NaWRDbGFzczM7CmltcG9ydCBvcmcuYXBh\nY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuaW5oZXJpdGFuY2UuZW50aXR5LlN1\nYmNsYXNzQTsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5j\nZS5pbmhlcml0YW5jZS5lbnRpdHkuU3ViY2xhc3NCOwppbXBvcnQgb3JnLmFw\nYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmluaGVyaXRhbmNlLmVudGl0eS5T\ndWJjbGFzc0M7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVu\nY2UuaW5oZXJpdGFuY2UuZW50aXR5LlN1YmNsYXNzRDsKaW1wb3J0IG9yZy5h\ncGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5pbmhlcml0YW5jZS5lbnRpdHku\nU3ViY2xhc3NFOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3Rl\nbmNlLmluaGVyaXRhbmNlLmVudGl0eS5JbXBsQ2xhc3NBOwppbXBvcnQgb3Jn\nLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmluaGVyaXRhbmNlLmVudGl0\neS5TdWJjbGFzc0Y7CmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lz\ndGVuY2UuaW5oZXJpdGFuY2UuZW50aXR5LlN1YmNsYXNzRzsKaW1wb3J0IG9y\nZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5pbmhlcml0YW5jZS5lbnRp\ndHkuU3ViY2xhc3NIOwppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNp\nc3RlbmNlLmluaGVyaXRhbmNlLmVudGl0eS5TdWJjbGFzc0k7CmltcG9ydCBv\ncmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuaW5oZXJpdGFuY2UuZW50\naXR5LlN1YmNsYXNzSjsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJz\naXN0ZW5jZS5pbmhlcml0YW5jZS5lbnRpdHkuU3ViY2xhc3NLOwppbXBvcnQg\nb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLnRlc3QuU2luZ2xlRU1G\nVGVzdENhc2U7CgovKioKICogVGhpcyB0ZXN0IHZlcmlmaWVzIHRoYXQgT3Bl\nbkpQQSB1c2VzIGEgc2luZ2xlLXRhYmxlIGluaGVyaXRhbmNlCiAqIHN0cmF0\nZWd5IGFuZCBkZWZhdWx0IGRpc2NyaW1pbmF0b3IgY29sdW1uIGlmIG5vIGlu\naGVyaXRhbmNlIHN0cmF0ZWd5IAogKiBpcyBkZWZpbmVkLgogKiAKICogT3Bl\nbkpQQSBKSVJBOiB7QGxpbmsgaHR0cDovL2lzc3Vlcy5hcGFjaGUub3JnL2pp\ncmEvYnJvd3NlL09QRU5KUEEtNjcwfQoKICogQGF1dGhvciBKZXJlbXkgQmF1\nZXIKICoKICovCnB1YmxpYyBjbGFzcyBUZXN0RGVmYXVsdEluaGVyaXRhbmNl\nU3RyYXRlZ3kgCiAgICBleHRlbmRzIFNpbmdsZUVNRlRlc3RDYXNlIHsKICAg\nIAogICAgcHVibGljIHZvaWQgc2V0VXAoKSB7CiAgICAgICAgc2V0VXAoQmFz\nZUNsYXNzLmNsYXNzLCBTdWJjbGFzc0EuY2xhc3MsIFN1YmNsYXNzQi5jbGFz\ncywKICAgICAgICAgICAgU3ViY2xhc3NDLmNsYXNzLCBNYXBwZWRTdXBlci5j\nbGFzcywgU3ViY2xhc3NELmNsYXNzLAogICAgICAgICAgICBCYXNlQ2xhc3My\nLmNsYXNzLCBNaWRDbGFzcy5jbGFzcywgU3ViY2xhc3NFLmNsYXNzLAogICAg\nICAgICAgICBNYW5hZ2VkSWZhY2UuY2xhc3MsIEltcGxDbGFzc0EuY2xhc3Ms\nCiAgICAgICAgICAgIE1hbmFnZWRJZmFjZTIuY2xhc3MsIEJhc2VDbGFzczMu\nY2xhc3MsIFN1YmNsYXNzRi5jbGFzcywKICAgICAgICAgICAgQmFzZUNsYXNz\nNC5jbGFzcywgU3ViY2xhc3NHLmNsYXNzLAogICAgICAgICAgICBCYXNlQ2xh\nc3M1LmNsYXNzLCBNaWRDbGFzczIuY2xhc3MsIFN1YmNsYXNzSC5jbGFzcywK\nICAgICAgICAgICAgQWJzdHJhY3RDbGFzcy5jbGFzcywgU3ViY2xhc3NJLmNs\nYXNzLCBTdWJjbGFzc0ouY2xhc3MsCiAgICAgICAgICAgIEJhc2VDbGFzczYu\nY2xhc3MsIFN1YmNsYXNzSy5jbGFzcyk7CiAgICB9CgogICAgcHJpdmF0ZSBD\nbGFzc1tdIGNsYXNzQXJyYXkoQ2xhc3MuLi4gY2xhc3NlcykgewogICAgICAg\nIHJldHVybiBjbGFzc2VzOwogICAgfQogICAgCiAgICAvKioKICAgICAqIFRo\naXMgdmFyaWF0aW9uIHRlc3RzIGEgZGVmYXVsdCBzaW1wbGUgY2xhc3MgaGll\ncmFyY2h5IHdpdGggbm8gaW5oZXJpdGFuY2UKICAgICAqIG9yIGRpc2NyaW1p\nbmF0b3IgY29sdW1uIGFubm90YXRpb25zIGRlZmluZWQuICAKICAgICAqLwog\nICAgcHVibGljIHZvaWQgdGVzdFNpbXBsZURlZmF1bHRJbmhlcml0YW5jZSgp\nIHsKICAgICAgICBFbnRpdHlNYW5hZ2VyIGVtID0gZW1mLmNyZWF0ZUVudGl0\neU1hbmFnZXIoKTsKICAgICAgICAKICAgICAgICAvLyBDcmVhdGUgc29tZSBl\nbnRpdGllcwogICAgICAgIFN1YmNsYXNzQSBzY2EgPSBuZXcgU3ViY2xhc3NB\nKCk7CiAgICAgICAgc2NhLnNldElkKDApOwogICAgICAgIHNjYS5zZXROYW1l\nKCJTdWJjbGFzc0FCYXNlQ2xhc3NOYW1lMCIpOwogICAgICAgIHNjYS5zZXRD\nbGFzc0FOYW1lKCJTdWJjbGFzc0FOYW1lMCIpOwoKICAgICAgICBTdWJjbGFz\nc0Egc2NhMiA9IG5ldyBTdWJjbGFzc0EoKTsKICAgICAgICBzY2EyLnNldElk\nKDEpOwogICAgICAgIHNjYTIuc2V0TmFtZSgiU3ViY2xhc3NBQmFzZUNsYXNz\nTmFtZTEiKTsKICAgICAgICBzY2EyLnNldENsYXNzQU5hbWUoIlN1YmNsYXNz\nQU5hbWUxIik7CgogICAgICAgIFN1YmNsYXNzQiBzY2IgPSBuZXcgU3ViY2xh\nc3NCKCk7CiAgICAgICAgc2NiLnNldElkKDIpOwogICAgICAgIHNjYi5zZXRO\nYW1lKCJTdWJjbGFzc0JCYXNlQ2xhc3NOYW1lIik7CiAgICAgICAgc2NiLnNl\ndENsYXNzQk5hbWUoIlN1YmNsYXNzQk5hbWUiKTsKCiAgICAgICAgQmFzZUNs\nYXNzIGIgPSBuZXcgQmFzZUNsYXNzKCk7CiAgICAgICAgYi5zZXROYW1lKCJC\nYXNlQ2xhc3NOYW1lIik7CiAgICAgICAgYi5zZXRJZCgzKTsKCiAgICAgICAg\nZW0uZ2V0VHJhbnNhY3Rpb24oKS5iZWdpbigpOwogICAgICAgIGVtLnBlcnNp\nc3Qoc2NhKTsKICAgICAgICBlbS5wZXJzaXN0KHNjYTIpOwogICAgICAgIGVt\nLnBlcnNpc3Qoc2NiKTsKICAgICAgICBlbS5wZXJzaXN0KGIpOwogICAgICAg\nIGVtLmdldFRyYW5zYWN0aW9uKCkuY29tbWl0KCk7CgogICAgICAgIGVtLmNs\nZWFyKCk7CiAgICAgICAgCiAgICAgICAgdmVyaWZ5RHR5cGVDb2x1bW5FbnRy\naWVzQW5kTWFwcGluZyhlbSwgIkJBU0VDTEFTUyIsIDQsIEJhc2VDbGFzcy5j\nbGFzcyk7CiAgICAgICAgICAgICAgICAKICAgICAgICB2ZXJpZnlJbmhlcml0\nYW5jZVF1ZXJ5UmVzdWx0KGVtLCAiU3ViY2xhc3NBIiwgCiAgICAgICAgICAg\nIGNsYXNzQXJyYXkoU3ViY2xhc3NBLmNsYXNzKSwgMCwgMSk7CgogICAgICAg\nIHZlcmlmeUluaGVyaXRhbmNlUXVlcnlSZXN1bHQoZW0sICJTdWJjbGFzc0Ii\nLCAKICAgICAgICAgICAgY2xhc3NBcnJheShTdWJjbGFzc0IuY2xhc3MpLCAy\nKTsKCiAgICAgICAgdmVyaWZ5SW5oZXJpdGFuY2VRdWVyeVJlc3VsdChlbSwg\nIkJhc2VDbGFzcyIsIAogICAgICAgICAgICBjbGFzc0FycmF5KEJhc2VDbGFz\ncy5jbGFzcyksIDAsIDEsIDIsIDMpOwogICAgICAgIAogICAgICAgIGVtLmNs\nb3NlKCk7CiAgICB9CgogICAgLyoqCiAgICAgKiBUaGlzIHZhcmlhdGlvbiBl\nbnN1cmVzIHRoYXQgYSBtYXBwZWQgc3VwZXJjbGFzcyBkb2VzIG5vdCBjYXVz\nZSB0aGUKICAgICAqIHByb2R1Y3Rpb24gb2YgYSBkaXNjcmltaW5hdG9yIGNv\nbHVtbi4KICAgICAqLwogICAgcHVibGljIHZvaWQgdGVzdE1hcHBlZFN1cGVy\nY2xhc3MoKSB7CiAgICAgICAgRW50aXR5TWFuYWdlciBlbSA9IGVtZi5jcmVh\ndGVFbnRpdHlNYW5hZ2VyKCk7CgogICAgICAgIC8vIEFkZCB0d28gZW50aXRp\nZXMsIGVhY2ggZXh0ZW5kaW5nIHRoZSBzYW1lIG1hcHBlZCBpbnRlcmZhY2UK\nICAgICAgICBlbS5nZXRUcmFuc2FjdGlvbigpLmJlZ2luKCk7CiAgICAgICAg\nU3ViY2xhc3NDIHNjID0gbmV3IFN1YmNsYXNzQygpOwogICAgICAgIHNjLnNl\ndElkKDApOwogICAgICAgIHNjLnNldE5hbWUoIlN1YmNsYXNzQ01hcHBlZFN1\ncGVyTmFtZSIpOwogICAgICAgIHNjLnNldENsYXNzQ05hbWUoIlN1YmNsYXNz\nQ05hbWUiKTsKCiAgICAgICAgU3ViY2xhc3NEIHNkID0gbmV3IFN1YmNsYXNz\nRCgpOwogICAgICAgIHNkLnNldElkKDEpOwogICAgICAgIHNkLnNldE5hbWUo\nIlN1YmNsYXNzRE1hcHBlZFN1cGVyTmFtZSIpOwogICAgICAgIHNkLnNldENs\nYXNzRE5hbWUoIlN1YmNsYXNzRE5hbWUiKTsKICAgICAgICAKICAgICAgICBl\nbS5wZXJzaXN0KHNjKTsKICAgICAgICBlbS5wZXJzaXN0KHNkKTsKICAgICAg\nICBlbS5nZXRUcmFuc2FjdGlvbigpLmNvbW1pdCgpOwogICAgICAgIAogICAg\nICAgIGVtLmNsZWFyKCk7CiAgICAgICAgICAgICAgICAKICAgICAgICAvLyBU\naGUgc3ViY2xhc3NlcyBzaG91bGQgbm90IGNvbnRhaW4gYSBkaXNjcmltaW5h\ndG9yIGNvbHVtbgogICAgICAgIHZlcmlmeU5vRHlwZUNvbHVtbihlbSwgIlN1\nYmNsYXNzQyIpOwogICAgICAgIHZlcmlmeU5vRHlwZUNvbHVtbihlbSwgIlN1\nYmNsYXNzRCIpOwoKICAgICAgICAvLyBRdWVyeSB0aGUgc3ViY2xhc3MgZW50\naXRpZXMuICBNYWtlIHN1cmUgdGhlIGNvdW50cyBhcmUgY29ycmVjdCBhbmQK\nICAgICAgICAvLyB0aGUgcmVzdWx0IGlzIGNhc3RhYmxlIHRvIHRoZSBtYXBw\nZWQgc2MuCiAgICAgICAgdmVyaWZ5SW5oZXJpdGFuY2VRdWVyeVJlc3VsdChl\nbSwgIlN1YmNsYXNzQyIsIAogICAgICAgICAgICAgICAgY2xhc3NBcnJheShT\ndWJjbGFzc0MuY2xhc3MsIE1hcHBlZFN1cGVyLmNsYXNzKSwgMCk7CgogICAg\nICAgIHZlcmlmeUluaGVyaXRhbmNlUXVlcnlSZXN1bHQoZW0sICJTdWJjbGFz\nc0QiLCAKICAgICAgICAgICAgICAgIGNsYXNzQXJyYXkoU3ViY2xhc3NELmNs\nYXNzLCBNYXBwZWRTdXBlci5jbGFzcyksIDEpOwogICAgICAgICAgICAgICAg\nCiAgICAgICAgZW0uY2xvc2UoKTsKICAgIH0KCiAgICAvKioKICAgICAqIFRo\naXMgdmFyaWF0aW9uIGVuc3VyZXMgdGhhdCBhIDMtbGV2ZWwgaW5oZXJpdGFu\nY2UgaGllcmFyY2h5IHVzZXMgCiAgICAgKiBhIGRpc2NyaW1pbmF0b3IgY29s\ndW1uIGF0IHRoZSByb290IGNsYXNzIGxldmVsLgogICAgICovCiAgICBwdWJs\naWMgdm9pZCB0ZXN0VHdvTGV2ZWxJbmhlcml0YW5jZSgpIHsKICAgICAgICBF\nbnRpdHlNYW5hZ2VyIGVtID0gZW1mLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTsK\nCiAgICAgICAgLy8gQWRkIHR3byBlbnRpdGllcywgZWFjaCBleHRlbmRpbmcg\ndGhlIHNhbWUgbWFwcGVkIGludGVyZmFjZQogICAgICAgIGVtLmdldFRyYW5z\nYWN0aW9uKCkuYmVnaW4oKTsKICAgICAgICBTdWJjbGFzc0Ugc2MgPSBuZXcg\nU3ViY2xhc3NFKCk7CiAgICAgICAgc2Muc2V0SWQoMCk7CiAgICAgICAgc2Mu\nc2V0TmFtZSgiU3ViY2xhc3NFQmFzZUNsYXNzTmFtZSIpOwogICAgICAgIHNj\nLnNldE1pZENsYXNzTmFtZSgiU3ViY2xhc3NFTWlkQ2xhc3NOYW1lIik7CiAg\nICAgICAgc2Muc2V0Q2xhc3NFTmFtZSgiU3ViY2xhc3NDTmFtZSIpOwoKICAg\nICAgICBNaWRDbGFzcyBtYyA9IG5ldyBNaWRDbGFzcygpOwogICAgICAgIG1j\nLnNldElkKDEpOwogICAgICAgIG1jLnNldE5hbWUoIk1pZENsYXNzQmFzZUNs\nYXNzTmFtZSIpOwogICAgICAgIG1jLnNldE1pZENsYXNzTmFtZSgiTWlkQ2xh\nc3NOYW1lIik7CgogICAgICAgIEJhc2VDbGFzczIgYjIgPSBuZXcgQmFzZUNs\nYXNzMigpOwogICAgICAgIGIyLnNldE5hbWUoIkJhc2VDbGFzczJOYW1lIik7\nCiAgICAgICAgYjIuc2V0SWQoMik7CiAgICAgICAgCiAgICAgICAgZW0ucGVy\nc2lzdChzYyk7CiAgICAgICAgZW0ucGVyc2lzdChtYyk7CiAgICAgICAgZW0u\ncGVyc2lzdChiMik7CiAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5jb21t\naXQoKTsKICAgICAgICAKICAgICAgICBlbS5jbGVhcigpOwoKICAgICAgICAv\nLyBWZXJpZnkgdGhhdCBiYXNlY2xhc3MyIGNvbnRhaW5zIGEgZGlzY3JpbWlu\nYXRvciBjb2x1bW4KICAgICAgICB2ZXJpZnlEdHlwZUNvbHVtbkVudHJpZXNB\nbmRNYXBwaW5nKGVtLCAiQkFTRUNMQVNTMiIsIDMsIAogICAgICAgICAgICAg\nICAgQmFzZUNsYXNzMi5jbGFzcyk7CiAgICAgICAgCiAgICAgICAgLy8gVmVy\naWZ5IHRoYXQgdGhlIHN1YmNsYXNzIHRhYmxlcyBkbyBub3QgY29udGFpbiBh\nIGRpc2NyaW1pbmF0b3IgY29sdW1uCiAgICAgICAgdmVyaWZ5Tm9EeXBlQ29s\ndW1uKGVtLCAiTWlkQ2xhc3MiKTsKICAgICAgICB2ZXJpZnlOb0R5cGVDb2x1\nbW4oZW0sICJTdWJjbGFzc0UiKTsKCiAgICAgICAgLy8gUXVlcnkgdGhlIHN1\nYmNsYXNzIHRhYmxlcy4gIE1ha2Ugc3VyZSB0aGUgY291bnRzIGFyZSBjb3Jy\nZWN0IGFuZAogICAgICAgIC8vIHRoZSByZXN1bHQgaXMgY2FzdGFibGUgdG8g\ndGhlIG1hcHBlZCBzYy4KICAgICAgICB2ZXJpZnlJbmhlcml0YW5jZVF1ZXJ5\nUmVzdWx0KGVtLCAiU3ViY2xhc3NFIiwgCiAgICAgICAgICAgICAgICBjbGFz\nc0FycmF5KFN1YmNsYXNzRS5jbGFzcywgTWlkQ2xhc3MuY2xhc3MsIEJhc2VD\nbGFzczIuY2xhc3MpLAogICAgICAgICAgICAgICAgMCk7CgogICAgICAgIHZl\ncmlmeUluaGVyaXRhbmNlUXVlcnlSZXN1bHQoZW0sICJNaWRDbGFzcyIsIAog\nICAgICAgICAgICAgICAgY2xhc3NBcnJheShNaWRDbGFzcy5jbGFzcyksIDAs\nIDEpOwoKICAgICAgICB2ZXJpZnlJbmhlcml0YW5jZVF1ZXJ5UmVzdWx0KGVt\nLCAiQmFzZUNsYXNzMiIsIAogICAgICAgICAgICAgICAgY2xhc3NBcnJheShC\nYXNlQ2xhc3MyLmNsYXNzKSwgMCwgMSwgMik7CgogICAgICAgIGVtLmNsb3Nl\nKCk7CiAgICB9CgogICAgLyoqCiAgICAgKiBUaGlzIHZhcmlhdGlvbiB2ZXJp\nZmllcyB0aGF0IGFuIGVudGl0eSB3aXRoIGEgbWFuYWdlZCBpbnRlcmZhY2UK\nICAgICAqIGRvZXMgbm90IHVzZSBhIGRpc2NyaW1pbmF0b3IgY29sdW1uLgog\nICAgICovCiAgICBwdWJsaWMgdm9pZCB0ZXN0TWFuYWdlZEludGVyZmFjZSgp\nIHsKICAgICAgICBPcGVuSlBBRW50aXR5TWFuYWdlciBlbSA9IGVtZi5jcmVh\ndGVFbnRpdHlNYW5hZ2VyKCk7CgogICAgICAgIC8vIEFkZCBzb21lIGVudGl0\naWVzCiAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5iZWdpbigpOwogICAg\nICAgIE1hbmFnZWRJZmFjZSBtaWYgPSBlbS5jcmVhdGVJbnN0YW5jZShNYW5h\nZ2VkSWZhY2UuY2xhc3MpOwogICAgICAgIG1pZi5zZXRJbnRGaWVsZFN1cCgx\nMCk7CiAgICAgICAgICAgICAgICAKICAgICAgICBJbXBsQ2xhc3NBIGljYSA9\nIG5ldyBJbXBsQ2xhc3NBKCk7CiAgICAgICAgaWNhLnNldEltcGxDbGFzc0FO\nYW1lKCJJbXBsQ2xhc3NBTmFtZSIpOwogICAgICAgIGljYS5zZXRJbnRGaWVs\nZFN1cCgxMSk7CiAgICAgICAgCiAgICAgICAgZW0ucGVyc2lzdChtaWYpOwog\nICAgICAgIGVtLnBlcnNpc3QoaWNhKTsgICAgICAgIAogICAgICAgIGVtLmdl\ndFRyYW5zYWN0aW9uKCkuY29tbWl0KCk7CgogICAgICAgIGVtLmNsZWFyKCk7\nCgogICAgICAgIC8vIFZlcmlmeSB0aGF0IHRoZSBpZmFjZSB0YWJsZSBkb2Vz\nIG5vdCBjb250YWluIGEgZGlzY3JpbWluYXRvciBjb2x1bW4KICAgICAgICB2\nZXJpZnlOb0R5cGVDb2x1bW4oZW0sICJNYW5hZ2VkSWZhY2UiKTsKCiAgICAg\nICAgLy8gVmVyaWZ5IHRoYXQgdGhlIGltcGwgdGFibGUgZG9lcyBub3QgY29u\ndGFpbiBhIGRpc2NyaW1pbmF0b3IgY29sdW1uCiAgICAgICAgdmVyaWZ5Tm9E\neXBlQ29sdW1uKGVtLCAiSW1wbENsYXNzQSIpOwogICAgICAgIAogICAgICAg\nIC8vIFF1ZXJ5IHRoZSBzdWJjbGFzcyB0YWJsZXMuICBNYWtlIHN1cmUgdGhl\nIGNvdW50cyBhcmUgY29ycmVjdCBhbmQKICAgICAgICAvLyB0aGUgcmVzdWx0\nIGlzIGNhc3RhYmxlIHRvIHRoZSBlbnRpdHkgYW5kIGludGVyZmFjZSB0eXBl\ncy4KICAgICAgICB2ZXJpZnlJbmhlcml0YW5jZVF1ZXJ5UmVzdWx0KGVtLCAi\nSW1wbENsYXNzQSIsIAogICAgICAgICAgICAgICAgY2xhc3NBcnJheShJbXBs\nQ2xhc3NBLmNsYXNzLCBNYW5hZ2VkSWZhY2UuY2xhc3MpLCBpY2EuZ2V0SWQo\nKSk7CgogICAgICAgIC8vIFF1ZXJ5IHRoZSBpbnRlcmZhY2UyIHRhYmxlLiAg\nTWFrZSBzdXJlIHRoZSBjb3VudCBpcyBjb3JyZWN0IGFuZAogICAgICAgIC8v\nIHRoZSByZXN1bHQgaXMgY2FzdGFibGUgdG8gdGhlIGludGVyZmFjZSB0eXBl\nLgogICAgICAgIHZlcmlmeUluaGVyaXRhbmNlUXVlcnlSZXN1bHQoZW0sICJN\nYW5hZ2VkSWZhY2UiLCAKICAgICAgICAgICAgICAgIGNsYXNzQXJyYXkoTWFu\nYWdlZElmYWNlLmNsYXNzKSwgbWlmLmdldElkKCksCiAgICAgICAgICAgICAg\nICBpY2EuZ2V0SWQoKSk7CiAgICAgICAgCiAgICAgICAgZW0uY2xvc2UoKTsK\nICAgIH0KCiAgICAvKioKICAgICAqIFRoaXMgdmFyaWF0aW9uIHZlcmlmaWVz\nIHRoYXQgYW4gZW50aXR5IHdpdGggbWFuYWdlZCBpbnRlcmZhY2UKICAgICAq\nIGFuZCBhIHN1cGVyY2xhc3MgRE9FUyB1c2UgYSBkaXNjcmltaW5hdG9yIGNv\nbHVtbi4KICAgICAqLwogICAgcHVibGljIHZvaWQgdGVzdE1hbmFnZWRJbnRl\ncmZhY2VBbmRCYXNlKCkgewogICAgICAgIE9wZW5KUEFFbnRpdHlNYW5hZ2Vy\nIGVtID0gZW1mLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTsKCiAgICAgICAgLy8g\nQWRkIHNvbWUgZW50aXRpZXMKICAgICAgICBlbS5nZXRUcmFuc2FjdGlvbigp\nLmJlZ2luKCk7CiAgICAgICAgTWFuYWdlZElmYWNlMiBtaWYyID0gZW0uY3Jl\nYXRlSW5zdGFuY2UoTWFuYWdlZElmYWNlMi5jbGFzcyk7CiAgICAgICAgbWlm\nMi5zZXRJbnRGaWVsZFN1cCgxMik7CiAgICAgICAgICAgICAgICAKICAgICAg\nICBTdWJjbGFzc0Ygc2NmID0gbmV3IFN1YmNsYXNzRigpOwogICAgICAgIHNj\nZi5zZXRDbGFzc0ZOYW1lKCJTdWJjbGFzc0ZOYW1lIik7CiAgICAgICAgc2Nm\nLnNldEludEZpZWxkU3VwKDEzKTsKCiAgICAgICAgQmFzZUNsYXNzMyBiYzMg\nPSBuZXcgQmFzZUNsYXNzMygpOwogICAgICAgIGJjMy5zZXROYW1lKCJCYXNl\nQ2xhc3MzIik7CgogICAgICAgIGVtLnBlcnNpc3QobWlmMik7CiAgICAgICAg\nZW0ucGVyc2lzdChzY2YpOyAgCiAgICAgICAgZW0ucGVyc2lzdChiYzMpOwog\nICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCkuY29tbWl0KCk7CgogICAgICAg\nIGVtLmNsZWFyKCk7CgogICAgICAgIC8vIFZlcmlmeSB0aGF0IHRoZSBpZmFj\nZSB0YWJsZSBkb2VzIG5vdCBjb250YWluIGEgZGlzY3JpbWluYXRvciBjb2x1\nbW4KICAgICAgICB2ZXJpZnlOb0R5cGVDb2x1bW4oZW0sICJNYW5hZ2VkSWZh\nY2UyIik7CgogICAgICAgIC8vIFZlcmlmeSB0aGF0IHRoZSBzdWJjbGFzcyB0\nYWJsZSBkb2VzIG5vdCBjb250YWluIGEgZGlzY3JpbWluYXRvciBjb2x1bW4K\nICAgICAgICB2ZXJpZnlOb0R5cGVDb2x1bW4oZW0sICJTdWJjbGFzc0YiKTsK\nCiAgICAgICAgLy8gVmVyaWZ5IHRoYXQgdGhlIGJhc2UgY2xhc3MgZG9lcyBj\nb250YWluIGEgZGlzY3JpbWluYXRvciBjb2x1bW4KICAgICAgICB2ZXJpZnlE\ndHlwZUNvbHVtbkVudHJpZXNBbmRNYXBwaW5nKGVtLCAiQkFTRUNMQVNTMyIs\nIDIsIAogICAgICAgICAgICBCYXNlQ2xhc3MzLmNsYXNzKTsKCiAgICAgICAg\nLy8gUXVlcnkgdGhlIHN1YmNsYXNzIHRhYmxlLiAgTWFrZSBzdXJlIHRoZSBj\nb3VudHMgYXJlIGNvcnJlY3QgYW5kCiAgICAgICAgLy8gdGhlIHJlc3VsdCBp\ncyBjYXN0YWJsZSB0byB0aGUgZW50aXR5IGFuZCBpbnRlcmZhY2UgdHlwZXMu\nCiAgICAgICAgdmVyaWZ5SW5oZXJpdGFuY2VRdWVyeVJlc3VsdChlbSwgIlN1\nYmNsYXNzRiIsIAogICAgICAgICAgICBjbGFzc0FycmF5KFN1YmNsYXNzRi5j\nbGFzcywgTWFuYWdlZElmYWNlMi5jbGFzcywgQmFzZUNsYXNzMy5jbGFzcyks\nCiAgICAgICAgICAgIHNjZi5nZXRJZCgpKTsKICAgICAgICAKICAgICAgICAv\nLyBRdWVyeSB0aGUgYmFzZSBjbGFzcyB0YWJsZS4gIE1ha2Ugc3VyZSB0aGUg\nY291bnRzIGFyZSBjb3JyZWN0IGFuZAogICAgICAgIC8vIHRoZSByZXN1bHQg\naXMgY2FzdGFibGUgdG8gdGhlIGVudGl0eSBhbmQgaW50ZXJmYWNlIHR5cGVz\nLgogICAgICAgIHZlcmlmeUluaGVyaXRhbmNlUXVlcnlSZXN1bHQoZW0sICJC\nYXNlQ2xhc3MzIiwgCiAgICAgICAgICAgIGNsYXNzQXJyYXkoQmFzZUNsYXNz\nMy5jbGFzcyksCiAgICAgICAgICAgIHNjZi5nZXRJZCgpLCBiYzMuZ2V0SWQo\nKSk7CgogICAgICAgIC8vIFF1ZXJ5IHRoZSBpbnRlcmZhY2UyIHRhYmxlLiAg\nTWFrZSBzdXJlIHRoZSBjb3VudCBpcyBjb3JyZWN0IGFuZAogICAgICAgIC8v\nIHRoZSByZXN1bHQgaXMgY2FzdGFibGUgdG8gdGhlIGludGVyZmFjZSB0eXBl\nLgogICAgICAgIHZlcmlmeUluaGVyaXRhbmNlUXVlcnlSZXN1bHQoZW0sICJN\nYW5hZ2VkSWZhY2UyIiwgCiAgICAgICAgICAgICAgICBjbGFzc0FycmF5KE1h\nbmFnZWRJZmFjZTIuY2xhc3MpLAogICAgICAgICAgICAgICAgc2NmLmdldElk\nKCksIG1pZjIuZ2V0SWQoKSk7ICAgICAgICAKICAgICAgICBlbS5jbG9zZSgp\nOwogICAgfQogICAgCiAgICAvKioKICAgICAqIFRoaXMgdmFyaWF0aW9uIHRl\nc3RzIGEgZGVmYXVsdCBzaW1wbGUgY2xhc3MgaGllcmFyY2h5IHdpdGggYSBp\nbmhlcml0YW5jZQogICAgICogYW5ub3RhdGlvbiBkZWZpbmVkIG9uIHRoZSBz\ndWJjbGFzcy4gIAogICAgICovCiAgICBwdWJsaWMgdm9pZCB0ZXN0U3ViY2xh\nc3NTcGVjaWZpZWRJbmhlcml0YW5jZSgpIHsKICAgICAgICBFbnRpdHlNYW5h\nZ2VyIGVtID0gZW1mLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTsKICAgICAgICAK\nICAgICAgICAvLyBDcmVhdGUgc29tZSBlbnRpdGllcwogICAgICAgIFN1YmNs\nYXNzRyBzY2cgPSBuZXcgU3ViY2xhc3NHKCk7CiAgICAgICAgc2NnLnNldElk\nKDApOwogICAgICAgIHNjZy5zZXROYW1lKCJTdWJjbGFzc0dCYXNlQ2xhc3M0\nTmFtZSIpOwogICAgICAgIHNjZy5zZXRDbGFzc0dOYW1lKCJTdWJjbGFzc0dO\nYW1lIik7CgogICAgICAgIEJhc2VDbGFzczQgYiA9IG5ldyBCYXNlQ2xhc3M0\nKCk7CiAgICAgICAgYi5zZXROYW1lKCJCYXNlQ2xhc3M0TmFtZSIpOwogICAg\nICAgIGIuc2V0SWQoMSk7CgogICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCku\nYmVnaW4oKTsKICAgICAgICBlbS5wZXJzaXN0KHNjZyk7CiAgICAgICAgZW0u\ncGVyc2lzdChiKTsKICAgICAgICBlbS5nZXRUcmFuc2FjdGlvbigpLmNvbW1p\ndCgpOwoKICAgICAgICBlbS5jbGVhcigpOwogICAgICAgIAogICAgICAgIHZl\ncmlmeUR0eXBlQ29sdW1uRW50cmllc0FuZE1hcHBpbmcoZW0sICJCQVNFQ0xB\nU1M0IiwgMiwgCiAgICAgICAgICAgIEJhc2VDbGFzczQuY2xhc3MpOwoKICAg\nICAgICAvLyBWZXJpZnkgdGhhdCB0aGUgc3ViY2xhc3MgdGFibGUgZG9lcyBu\nb3QgY29udGFpbiBhIGRpc2NyaW1pbmF0b3IgY29sdW1uCiAgICAgICAgdmVy\naWZ5Tm9EeXBlQ29sdW1uKGVtLCAiU3ViY2xhc3NHIik7CiAgICAgICAgCiAg\nICAgICAgLy8gUnVuIHF1ZXJpZXMgZm9yIGVhY2ggdHlwZS4gVGhleSBzaG91\nbGQgcmV0dXJuIG9ubHkgdGhvc2UgdmFsdWVzCiAgICAgICAgLy8gd2hpY2gg\nbWF0Y2ggdGhlaXIgcmVzcGVjdGl2ZSB0eXBlcy4gIFRoaXMgd2lsbCBub3Qg\nd29yayBmb3Igc2luZ2xlCiAgICAgICAgLy8gdGFibGUgaW5oZXJpdGFuY2Ug\ndW5sZXNzIGEgZGlzY3JpbWluYXRvciBjb2x1bW4gaXMgZGVmaW5lZC4KICAg\nICAgICB2ZXJpZnlJbmhlcml0YW5jZVF1ZXJ5UmVzdWx0KGVtLCAiU3ViY2xh\nc3NHIiwgCiAgICAgICAgICAgIGNsYXNzQXJyYXkoU3ViY2xhc3NHLmNsYXNz\nLCBCYXNlQ2xhc3M0LmNsYXNzKSwgMCk7CgogICAgICAgIHZlcmlmeUluaGVy\naXRhbmNlUXVlcnlSZXN1bHQoZW0sICJCYXNlQ2xhc3M0IiwgCiAgICAgICAg\nICAgICAgICBjbGFzc0FycmF5KEJhc2VDbGFzczQuY2xhc3MpLCAwLCAxKTsK\nICAgICAgICAKICAgICAgICBlbS5jbG9zZSgpOwogICAgfSAgICAKICAgIAog\nICAgLyoqCiAgICAgKiBUaGlzIHZhcmlhdGlvbiB0ZXN0cyBhIGRlZmF1bHQg\naW5oZXJpdGFuY2UgaGllcmFyY2h5IHdpdGggY2lyY3VsYXIKICAgICAqIHJl\nbGF0aW9uc2hpcHM6CiAgICAgKiAgICBCYXNlQ2xhc3M1IGhhcyByZWwgdG8g\nU3ViY2xhc3NICiAgICAgKiAgICBNaWRDbGFzczIgZXh0ZW5kcyBCYXNlQ2xh\nc3M1IGluaGVyaXRzIHJlbCB0byBTdWJjbGFzc0gKICAgICAqICAgIFN1YkNs\nYXNzSCBleHRlbmRzIE1pZENsYXNzMiBoYXMgcmVsIHRvIEJhc2VDbGFzczUK\nICAgICAqLyAgICAKICAgIHB1YmxpYyB2b2lkIHRlc3RDaXJjdWxhckluaGVy\naXRlZFJlbGF0aW9uc2hpcHMoKSB7CiAgICAgICAgRW50aXR5TWFuYWdlciBl\nbSA9IGVtZi5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7CgogICAgICAgIC8vIENy\nZWF0ZSBhbmQgcGVyc2lzdCBzb21lIHJlbGF0ZWQgJiBpbmhlcml0ZWQgZW50\naXRpZXMKICAgICAgICBTdWJjbGFzc0ggc2NoID0gbmV3IFN1YmNsYXNzSCgp\nOwogICAgICAgIHNjaC5zZXRJZCgxKTsKICAgICAgICBzY2guc2V0Q2xhc3NI\nTmFtZSgiU3ViY2xhc3NITmFtZSIpOwogICAgICAgIHNjaC5zZXROYW1lKCJT\ndWJjbGFzc0hCYXNlQ2xhc3M1TmFtZSIpOwogICAgICAgIHNjaC5zZXRNaWRD\nbGFzczJOYW1lKCJTdWJjbGFzc0hNaWRDbGFzczJOYW1lIik7CiAgICAKICAg\nICAgICBCYXNlQ2xhc3M1IGJjNSA9IG5ldyBCYXNlQ2xhc3M1KCk7CiAgICAg\nICAgYmM1LnNldElkKDIpOwogICAgICAgIGJjNS5zZXROYW1lKCJCYXNlQ2xh\nc3M1TmFtZSIpOwogICAgICAgIGJjNS5zZXRTdWJjbGFzc2goc2NoKTsKICAg\nICAgICAKICAgICAgICBzY2guc2V0QmFzZWNsYXNzNShiYzUpOwogICAgICAg\nIAogICAgICAgIE1pZENsYXNzMiBtYzIgPSBuZXcgTWlkQ2xhc3MyKCk7CiAg\nICAgICAgbWMyLnNldElkKDMpOwogICAgICAgIG1jMi5zZXRNaWRDbGFzczJO\nYW1lKCJNaWRDbGFzczJOYW1lIik7CiAgICAgICAgbWMyLnNldE5hbWUoIk1p\nZENsYXNzMkJhc2VDbGFzczVOYW1lIik7CiAgICAgICAgbWMyLnNldFN1YmNs\nYXNzaChzY2gpOwogICAgICAgIAogICAgICAgIGVtLmdldFRyYW5zYWN0aW9u\nKCkuYmVnaW4oKTsKICAgICAgICBlbS5wZXJzaXN0KHNjaCk7CiAgICAgICAg\nZW0ucGVyc2lzdChiYzUpOwogICAgICAgIGVtLnBlcnNpc3QobWMyKTsKICAg\nICAgICBlbS5nZXRUcmFuc2FjdGlvbigpLmNvbW1pdCgpOwogICAgICAgIAog\nICAgICAgIGVtLmNsZWFyKCk7CgogICAgICAgIHZlcmlmeUR0eXBlQ29sdW1u\nRW50cmllc0FuZE1hcHBpbmcoZW0sICJCQVNFQ0xBU1M1IiwgMywgCiAgICAg\nICAgICAgICAgICBCYXNlQ2xhc3M1LmNsYXNzKTsKCiAgICAgICAgLy8gVmVy\naWZ5IHRoYXQgdGhlIG1pZGNsYXNzIHRhYmxlIGRvZXMgbm90IGNvbnRhaW4g\nYSBkaXNjcmltaW5hdG9yIGNvbHVtbgogICAgICAgIHZlcmlmeU5vRHlwZUNv\nbHVtbihlbSwgIk1pZENsYXNzMiIpOwoKICAgICAgICAvLyBWZXJpZnkgdGhh\ndCB0aGUgc3ViY2xhc3MgdGFibGUgZG9lcyBub3QgY29udGFpbiBhIGRpc2Ny\naW1pbmF0b3IgY29sdW1uCiAgICAgICAgdmVyaWZ5Tm9EeXBlQ29sdW1uKGVt\nLCAiU3ViY2xhc3NIIik7CiAgICAgICAgCiAgICAgICAgLy8gUnVuIHF1ZXJp\nZXMgZm9yIGVhY2ggdHlwZS4gVGhleSBzaG91bGQgcmV0dXJuIG9ubHkgdGhv\nc2UgdmFsdWVzCiAgICAgICAgLy8gd2hpY2ggbWF0Y2ggdGhlaXIgcmVzcGVj\ndGl2ZSB0eXBlcy4gIFRoaXMgd2lsbCBub3Qgd29yayBmb3Igc2luZ2xlCiAg\nICAgICAgLy8gdGFibGUgaW5oZXJpdGFuY2UgdW5sZXNzIGEgZGlzY3JpbWlu\nYXRvciBjb2x1bW4gaXMgZGVmaW5lZC4KICAgICAgICB2ZXJpZnlJbmhlcml0\nYW5jZVF1ZXJ5UmVzdWx0KGVtLCAiU3ViY2xhc3NIIiwgCiAgICAgICAgICAg\nIGNsYXNzQXJyYXkoU3ViY2xhc3NILmNsYXNzLCBNaWRDbGFzczIuY2xhc3Ms\nIEJhc2VDbGFzczUuY2xhc3MpLAogICAgICAgICAgICAxKTsKCiAgICAgICAg\ndmVyaWZ5SW5oZXJpdGFuY2VRdWVyeVJlc3VsdChlbSwgIk1pZENsYXNzMiIs\nIAogICAgICAgICAgICAgICAgY2xhc3NBcnJheShNaWRDbGFzczIuY2xhc3Ms\nIEJhc2VDbGFzczUuY2xhc3MpLAogICAgICAgICAgICAgICAgMSwgMyk7Cgog\nICAgICAgIHZlcmlmeUluaGVyaXRhbmNlUXVlcnlSZXN1bHQoZW0sICJCYXNl\nQ2xhc3M1IiwgCiAgICAgICAgICAgICAgICBjbGFzc0FycmF5KEJhc2VDbGFz\nczUuY2xhc3MpLAogICAgICAgICAgICAgICAgMSwgMiwgMyk7CiAgICAgICAg\nCiAgICAgICAgZW0uY2xlYXIoKTsKICAgICAgICAKICAgICAgICAvLyBWYWxp\nZGF0ZSBlbnRpdHkgcmVsYXRpb25zaGlwcwogICAgICAgIHNjaCA9IGVtLmZp\nbmQoU3ViY2xhc3NILmNsYXNzLCAxKTsKICAgICAgICBhc3NlcnRFcXVhbHMo\nc2NoLmdldE5hbWUoKSwiU3ViY2xhc3NIQmFzZUNsYXNzNU5hbWUiKTsKICAg\nICAgICBhc3NlcnRFcXVhbHMoc2NoLmdldE1pZENsYXNzMk5hbWUoKSwgIlN1\nYmNsYXNzSE1pZENsYXNzMk5hbWUiKTsKICAgICAgICAvLyBTdWJjbGFzc0gg\naGFzIHJlbGF0aW9uc2hpcCB0byBCYXNlQ2xhc3M1CiAgICAgICAgYXNzZXJ0\nRXF1YWxzKHNjaC5nZXRCYXNlY2xhc3M1KCkuZ2V0SWQoKSwgMik7CgogICAg\nICAgIGJjNSA9IGVtLmZpbmQoQmFzZUNsYXNzNS5jbGFzcywgMyk7CiAgICAg\nICAgYXNzZXJ0RXF1YWxzKGJjNS5nZXROYW1lKCksIk1pZENsYXNzMkJhc2VD\nbGFzczVOYW1lIik7CiAgICAgICAgLy8gQmFzZUNsYXNzNSBoYXMgcmVsYXRp\nb25zaGlwIHRvIFN1YmNsYXNzSCB0aHJvdWdoIE1pZENsYXNzMgogICAgICAg\nIGFzc2VydEVxdWFscyhiYzUuZ2V0U3ViY2xhc3NoKCkuZ2V0SWQoKSwgMSk7\nICAgICAgICAKICAgICAgICAKICAgICAgICBiYzUgPSBlbS5maW5kKEJhc2VD\nbGFzczUuY2xhc3MsIDIpOwogICAgICAgIGFzc2VydEVxdWFscyhiYzUuZ2V0\nTmFtZSgpLCJCYXNlQ2xhc3M1TmFtZSIpOwogICAgICAgIC8vIEJhc2VDbGFz\nczUgaGFzIHJlbGF0aW9uc2hpcCB0byBTdWJjbGFzc0gKICAgICAgICBhc3Nl\ncnRFcXVhbHMoYmM1LmdldFN1YmNsYXNzaCgpLmdldElkKCksIDEpOyAgICAg\nICAgCgogICAgICAgIG1jMiA9IGVtLmZpbmQoTWlkQ2xhc3MyLmNsYXNzLCAz\nKTsKICAgICAgICBhc3NlcnRFcXVhbHMobWMyLmdldE5hbWUoKSwiTWlkQ2xh\nc3MyQmFzZUNsYXNzNU5hbWUiKTsKICAgICAgICBhc3NlcnRFcXVhbHMobWMy\nLmdldE1pZENsYXNzMk5hbWUoKSwgIk1pZENsYXNzMk5hbWUiKTsKICAgICAg\nICAvLyBNaWRDbGFzczIgaGFzIHJlbGF0aW9uc2hpcCB0byBTdWJjbGFzc0gK\nICAgICAgICBhc3NlcnRFcXVhbHMoYmM1LmdldFN1YmNsYXNzaCgpLmdldElk\nKCksIDEpOyAgICAgICAgCgogICAgICAgIGVtLmNsb3NlKCk7CiAgICB9CiAg\nICAKICAgIC8qKgogICAgICogVGhpcyB2YXJpYXRpb24gdmVyaWZpZXMgZGVm\nYXVsdCBpbmhlcml0YW5jZSB3aXRoIGFuIGFic3RyYWN0CiAgICAgKiBlbnRp\ndHkuCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHRlc3RBYnN0cmFjdEVudGl0\neUluaGVyaXRhbmNlKCkgewogICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBl\nbWYuY3JlYXRlRW50aXR5TWFuYWdlcigpOwogICAgICAgCiAgICAgICAgU3Vi\nY2xhc3NJIHNjaSA9IG5ldyBTdWJjbGFzc0koKTsKICAgICAgICBzY2kuc2V0\nSWQoMSk7CiAgICAgICAgc2NpLnNldENsYXNzSU5hbWUoIlN1YmNsYXNzSU5h\nbWUiKTsKICAgICAgICBzY2kuc2V0TmFtZSgiU3ViY2xhc3NJQmFzZUNsYXNz\nTmFtZSIpOwogICAgICAgIAogICAgICAgIFN1YmNsYXNzSiBzY2ogPSBuZXcg\nU3ViY2xhc3NKKCk7CiAgICAgICAgc2NqLnNldElkKDIpOwogICAgICAgIHNj\nai5zZXRDbGFzc0pOYW1lKCJTdWJjbGFzc0pOYW1lIik7CiAgICAgICAgc2Nq\nLnNldE5hbWUoIlN1YmNsYXNzSkJhc2VDbGFzc05hbWUiKTsKICAgICAgICAK\nICAgICAgICBlbS5nZXRUcmFuc2FjdGlvbigpLmJlZ2luKCk7CiAgICAgICAg\nZW0ucGVyc2lzdChzY2kpOwogICAgICAgIGVtLnBlcnNpc3Qoc2NqKTsgICAg\nCiAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5jb21taXQoKTsKICAgICAg\nICAKICAgICAgICBlbS5jbGVhcigpOwoKICAgICAgICB2ZXJpZnlEdHlwZUNv\nbHVtbkVudHJpZXNBbmRNYXBwaW5nKGVtLCAiQUJTVFJBQ1RDTEFTUyIsIDIs\nIAogICAgICAgICAgICAgICAgQWJzdHJhY3RDbGFzcy5jbGFzcyk7CgogICAg\nICAgIC8vIFZlcmlmeSB0aGF0IHRoZSBtaWRjbGFzcyB0YWJsZSBkb2VzIG5v\ndCBjb250YWluIGEgZGlzY3JpbWluYXRvciBjb2x1bW4KICAgICAgICB2ZXJp\nZnlOb0R5cGVDb2x1bW4oZW0sICJTdWJjbGFzc0kiKTsKCiAgICAgICAgLy8g\nVmVyaWZ5IHRoYXQgdGhlIHN1YmNsYXNzIHRhYmxlIGRvZXMgbm90IGNvbnRh\naW4gYSBkaXNjcmltaW5hdG9yIGNvbHVtbgogICAgICAgIHZlcmlmeU5vRHlw\nZUNvbHVtbihlbSwgIlN1YmNsYXNzSiIpOyAgICAgICAgCiAgICAgICAgCiAg\nICAgICAgLy8gUnVuIHF1ZXJpZXMgZm9yIGVhY2ggdHlwZS4gVGhleSBzaG91\nbGQgcmV0dXJuIG9ubHkgdGhvc2UgdmFsdWVzCiAgICAgICAgLy8gd2hpY2gg\nbWF0Y2ggdGhlaXIgcmVzcGVjdGl2ZSB0eXBlcy4gIFRoaXMgd2lsbCBub3Qg\nd29yayBmb3Igc2luZ2xlCiAgICAgICAgLy8gdGFibGUgaW5oZXJpdGFuY2Ug\ndW5sZXNzIGEgZGlzY3JpbWluYXRvciBjb2x1bW4gaXMgZGVmaW5lZC4KICAg\nICAgICB2ZXJpZnlJbmhlcml0YW5jZVF1ZXJ5UmVzdWx0KGVtLCAiQWJzdHJh\nY3RDbGFzcyIsIAogICAgICAgICAgICBjbGFzc0FycmF5KEFic3RyYWN0Q2xh\nc3MuY2xhc3MpLCAxLCAyKTsKCiAgICAgICAgdmVyaWZ5SW5oZXJpdGFuY2VR\ndWVyeVJlc3VsdChlbSwgIlN1YmNsYXNzSSIsIAogICAgICAgICAgICAgICAg\nY2xhc3NBcnJheShBYnN0cmFjdENsYXNzLmNsYXNzLCBTdWJjbGFzc0kuY2xh\nc3MpLCAxKTsKCiAgICAgICAgdmVyaWZ5SW5oZXJpdGFuY2VRdWVyeVJlc3Vs\ndChlbSwgIlN1YmNsYXNzSiIsIAogICAgICAgICAgICAgICAgY2xhc3NBcnJh\neShBYnN0cmFjdENsYXNzLmNsYXNzLCBTdWJjbGFzc0ouY2xhc3MpLCAyKTsg\nICAgICAgIAogICAgICAgIAogICAgICAgIGVtLmNsb3NlKCk7CiAgICB9CiAg\nICAKICAgIC8qKgogICAgICogVGhpcyB2YXJpYXRpb24gdmVyaWZpZXMgdGhh\ndCBkZWZhdWx0IGluaGVyaXRhbmNlIGlzIHVzZWQgd2hlbgogICAgICogdGhl\ncmUgaXMgYSBub24tZW50aXR5IHN1cGVyY2xhc3MgaW4gdGhlIG1peDoKICAg\nICAqICAgbm9uLWVudGl0eSBNaWRDbGFzczMgZXh0ZW5kcyBCYXNlQ2xhc3M2\nCiAgICAgKiAgIFN1YkNsYXNzSiBleHRlbmRzIE1pZENsYXNzMwogICAgICov\nCiAgICBwdWJsaWMgdm9pZCB0ZXN0TWlkTm9uRW50aXR5SW5oZXJpdGFuY2Uo\nKSB7CiAgICAgICAgRW50aXR5TWFuYWdlciBlbSA9IGVtZi5jcmVhdGVFbnRp\ndHlNYW5hZ2VyKCk7CiAgICAgICAgCiAgICAgICAgU3ViY2xhc3NLIHNjayA9\nIG5ldyBTdWJjbGFzc0soKTsKICAgICAgICBzY2suc2V0SWQoMSk7CiAgICAg\nICAgc2NrLnNldENsYXNzS05hbWUoIlN1YmNsYXNzS05hbWUiKTsKICAgICAg\nICBzY2suc2V0TWlkQ2xhc3MzTmFtZSgiU3ViY2xhc3NLTWlkQ2xhc3MzTmFt\nZSIpOwogICAgICAgIHNjay5zZXROYW1lKCJTdWJjbGFzc0tCYXNlQ2xhc3M2\nTmFtZSIpOwogICAgICAgICAgICAgICAgCiAgICAgICAgQmFzZUNsYXNzNiBi\nazYgPSBuZXcgQmFzZUNsYXNzNigpOwogICAgICAgIGJrNi5zZXRJZCgzKTsK\nICAgICAgICBiazYuc2V0TmFtZSgiQmFzZUNsYXNzNk5hbWUiKTsKICAgICAg\nICAKICAgICAgICBlbS5nZXRUcmFuc2FjdGlvbigpLmJlZ2luKCk7CiAgICAg\nICAgZW0ucGVyc2lzdChzY2spOwogICAgICAgIGVtLnBlcnNpc3QoYms2KTsK\nICAgICAgICBlbS5nZXRUcmFuc2FjdGlvbigpLmNvbW1pdCgpOwogICAgICAg\nIAogICAgICAgIGVtLmNsZWFyKCk7CiAgICAgICAgCiAgICAgICAgdmVyaWZ5\nRHR5cGVDb2x1bW5FbnRyaWVzQW5kTWFwcGluZyhlbSwgIkJBU0VDTEFTUzYi\nLCAyLCAKICAgICAgICAgICAgICAgIEJhc2VDbGFzczYuY2xhc3MpOwoKICAg\nICAgICAvLyBWZXJpZnkgdGhhdCB0aGUgc3ViY2xhc3MgdGFibGUgZG9lcyBu\nb3QgY29udGFpbiBhIGRpc2NyaW1pbmF0b3IgY29sdW1uCiAgICAgICAgdmVy\naWZ5Tm9EeXBlQ29sdW1uKGVtLCAiU3ViY2xhc3NLIik7ICAgICAgICAgICAK\nCiAgICAgICAgLy8gUnVuIHF1ZXJpZXMgZm9yIGVhY2ggdHlwZS4gVGhleSBz\naG91bGQgcmV0dXJuIG9ubHkgdGhvc2UgdmFsdWVzCiAgICAgICAgLy8gd2hp\nY2ggbWF0Y2ggdGhlaXIgcmVzcGVjdGl2ZSB0eXBlcy4gIFRoaXMgd2lsbCBu\nb3Qgd29yayBmb3Igc2luZ2xlCiAgICAgICAgLy8gdGFibGUgaW5oZXJpdGFu\nY2UgdW5sZXNzIGEgZGlzY3JpbWluYXRvciBjb2x1bW4gaXMgZGVmaW5lZC4K\nICAgICAgICB2ZXJpZnlJbmhlcml0YW5jZVF1ZXJ5UmVzdWx0KGVtLCAiQmFz\nZUNsYXNzNiIsIAogICAgICAgICAgICBjbGFzc0FycmF5KEJhc2VDbGFzczYu\nY2xhc3MpLCAxLCAzKTsKCiAgICAgICAgdmVyaWZ5SW5oZXJpdGFuY2VRdWVy\neVJlc3VsdChlbSwgIlN1YmNsYXNzSyIsIAogICAgICAgICAgICAgICAgY2xh\nc3NBcnJheShCYXNlQ2xhc3M2LmNsYXNzLCBNaWRDbGFzczMuY2xhc3MsIFN1\nYmNsYXNzSy5jbGFzcyksCiAgICAgICAgICAgICAgICAxKTsgICAgICAgIAoK\nICAgICAgICBlbS5jbG9zZSgpOyAgICAgICAgCiAgICB9CgogICAgLyoqCiAg\nICAgKiBWZXJpZmllcyB0aGF0IGEgdGFibGUgY29udGFpbnMgdGhlIHNwZWNp\nZmllZCBudW1iZXIgb2YgZW50cmllcwogICAgICogaW4gaXRzIERUWVBFIChk\nZWZhdWx0IGRpc2NyaW1pbmF0b3IpIGNvbHVtbi4KICAgICAqIEBwYXJhbSBl\nbSAgRW50aXR5IG5hbmFnZXIKICAgICAqIEBwYXJhbSB0YWJsZSAgTmFtZSBv\nZiB0aGUgdGFibGUgdG8gcXVlcnkKICAgICAqIEBwYXJhbSBlbnRyaWVzICBF\neHBlY3RlZCBjb2x1bW4gZW50cnkgY291bnQKICAgICAqIEBwYXJhbSBiYXNl\nQ2xhc3MgQ2xhc3MgbWFwcGluZyB0byB2ZXJpZnkKICAgICAqLwogICAgcHJp\ndmF0ZSB2b2lkIHZlcmlmeUR0eXBlQ29sdW1uRW50cmllc0FuZE1hcHBpbmco\nRW50aXR5TWFuYWdlciBlbSwgCiAgICAgICAgU3RyaW5nIHRhYmxlLCBpbnQg\nZW50cmllcywgQ2xhc3MgYmFzZUNsYXNzKSB7CiAgICAgICAgdHJ5IHsKICAg\nICAgICAgICAgUXVlcnkgcXJ5ID0gZW0uY3JlYXRlTmF0aXZlUXVlcnkoIlNF\nTEVDVCBEVFlQRSBGUk9NICIgKyB0YWJsZSk7CiAgICAgICAgICAgIExpc3Qg\ndmFscyA9IHFyeS5nZXRSZXN1bHRMaXN0KCk7CiAgICAgICAgICAgIGFzc2Vy\ndFRydWUoIlF1ZXJ5IHNob3VsZCBoYXZlIHJldHVybmVkICIgKyBlbnRyaWVz\nICsgIiB2YWx1ZXMiLCAKICAgICAgICAgICAgICAgIHZhbHMuc2l6ZSgpID09\nIGVudHJpZXMpOwogICAgICAgIH0KICAgICAgICBjYXRjaCAoRXhjZXB0aW9u\nIGUpIHsKICAgICAgICAgICAgZmFpbCgiRXhjZXB0aW9uIHF1ZXJ5aW5nIERU\nWVBFIGNvbHVtbjogIiArIGUuZ2V0TWVzc2FnZSgpKTsKICAgICAgICB9ICAg\nICAgICAKICAgICAgICAKICAgICAgICAvLyBDaGVjayB0aGUgZGlzY3JpbWlu\nYXRvciBjb2x1bW4gb2YgdGhlIGNsYXNzIG1hcHBpbmcuICAKICAgICAgICBD\nbGFzc01hcHBpbmcgY20gPSBnZXRNYXBwaW5nKGJhc2VDbGFzcyk7CiAgICAg\nICAgRGlzY3JpbWluYXRvciBkID0gY20uZ2V0RGlzY3JpbWluYXRvcigpOwog\nICAgICAgIENvbHVtbltdIGNvbHMgPSBkLmdldENvbHVtbnMoKTsKICAgICAg\nICBhc3NlcnRUcnVlKCJEaXNjcmltaW5hdG9yIHNob3VsZCB1c2UgRFRZUEUg\nY29sdW1uIiwgCiAgICAgICAgICAgIChjb2xzICE9IG51bGwgJiYgY29scy5s\nZW5ndGggPT0gMSAmJiAKICAgICAgICAgICAgY29sc1swXS5nZXROYW1lKCku\nZXF1YWxzKCJEVFlQRSIpKSk7IAogICAgfQoKICAgIC8qKgogICAgICogVmVy\naWZpZXMgdGhhdCBhIHRhYmxlIGRvZXMgbm90IGNvbnRhaW4gYSBEVFlQRSBj\nb2x1bW4uCiAgICAgKiBAcGFyYW0gZW0gIEVudGl0eSBtYW5hZ2VyCiAgICAg\nKiBAcGFyYW0gdGFibGUgTmFtZSBvZiB0aGUgdGFibGUgdG8gcXVlcnkKICAg\nICAqLwogICAgcHJpdmF0ZSB2b2lkIHZlcmlmeU5vRHlwZUNvbHVtbihFbnRp\ndHlNYW5hZ2VyIGVtLCBTdHJpbmcgdGFibGUpIHsKICAgICAgICB0cnkgewog\nICAgICAgICAgICBRdWVyeSBxcnkgPSBlbS5jcmVhdGVOYXRpdmVRdWVyeSgi\nU0VMRUNUIERUWVBFIEZST00gIiArIHRhYmxlKTsKICAgICAgICAgICAgcXJ5\nLmdldFJlc3VsdExpc3QoKTsKICAgICAgICAgICAgZmFpbCgiRXhwZWN0ZWQg\nZXhjZXB0aW9uLiAgRFRZUEUgY29sdW1uIHNob3VsZCBub3QgZXhpc3Qgb24g\nIiArIAogICAgICAgICAgICAgICAgdGFibGUpOwogICAgICAgIH0KICAgICAg\nICBjYXRjaCAoRXhjZXB0aW9uIGUpIHsKICAgICAgICAgICAgLy8gRXhwZWN0\nZWQgZXhjZXB0aW9uCiAgICAgICAgfSAgICAgICAgCiAgICB9ICAgIAoKICAg\nIC8qKgogICAgICogVmVyaWZpZXMgdGhlIHJlc3VsdGluZyBlbnRpdHkgY291\nbnQgYW5kIGV4cGVjdGVkIGVudGl0eSBpZHMgZnJvbSBhIAogICAgICogc2lt\ncGxlIGVudGl0eSBxdWVyeS4gIFRoaXMgbWV0aG9kIHJlcXVpcmVzIGEgImdl\ndElkIiBtZXRob2Qgb24gdGhlCiAgICAgKiBlbnRpdHkgdHlwZSBpbiBvcmRl\nciB0byB3b3JrIHByb3Blcmx5LgogICAgICogCiAgICAgKiBAcGFyYW0gZW0g\nZW50aXR5IG1hbmFnZXIKICAgICAqIEBwYXJhbSBlbnRpdHkgZW50aXR5IG5h\nbWUKICAgICAqIEBwYXJhbSBlbnRpdHlUeXBlIGVudGl0eSBjbGFzcwogICAg\nICogQHBhcmFtIGV4cGVjdGVkVmFsdWVzIHZhcmlhYmxlIGxpc3Qgb2YgZXhw\nZWN0ZWQgaW50ZWdyYWwgaWQgdmFsdWVzLgogICAgICovCiAgICBwcml2YXRl\nIHZvaWQgdmVyaWZ5SW5oZXJpdGFuY2VRdWVyeVJlc3VsdChFbnRpdHlNYW5h\nZ2VyIGVtLCBTdHJpbmcgZW50aXR5LAogICAgICAgIENsYXNzW10gdHlwZXMs\nIGludC4uLiBleHBlY3RlZFZhbHVlcykgewogICAgICAgIFF1ZXJ5IHFyeSA9\nIGVtLmNyZWF0ZVF1ZXJ5KCJTRUxFQ1QgZSBGUk9NICIgKyBlbnRpdHkgKyAi\nIGUiKTsKICAgICAgICBMaXN0IGNvbCA9IHFyeS5nZXRSZXN1bHRMaXN0KCk7\nCiAgICAgICAgYXNzZXJ0VHJ1ZSgiUXVlcnkgc2hvdWxkIHJldHVybiAiICsg\nZXhwZWN0ZWRWYWx1ZXMubGVuZ3RoICsgIiBlbnRpdGllcyIsCiAgICAgICAg\nICAgIGNvbC5zaXplKCkgPT0gZXhwZWN0ZWRWYWx1ZXMubGVuZ3RoKTsKICAg\nICAgICBpbnQgY291bnQgPSAwOwogICAgICAgIGZvciAoaW50IGkgPSAwOyBp\nIDwgY29sLnNpemUoKTsgaSsrKSB7CiAgICAgICAgICAgIE9iamVjdCBlbnQg\nPSBjb2wuZ2V0KGkpOwogICAgICAgICAgICAvLyBJZiBhIGxpc3Qgb2Ygc3Vw\nZXJzIG9yIGludGVyZmFjZXMgaXMgcHJvdmlkZWQsIG1ha2Ugc3VyZQogICAg\nICAgICAgICAvLyB0aGUgcmV0dXJuZWQgdHlwZSBpcyBhbiBpbnN0YW5jZSBv\nZiB0aG9zZSB0eXBlcwogICAgICAgICAgICBpZiAodHlwZXMgIT0gbnVsbCkg\newogICAgICAgICAgICAgICAgZm9yIChpbnQgaiA9IDA7IGogPCB0eXBlcy5s\nZW5ndGg7IGorKyApCiAgICAgICAgICAgICAgICAgICAgYXNzZXJ0VHJ1ZSh0\neXBlc1tqXS5pc0luc3RhbmNlKGVudCkpOwogICAgICAgICAgICB9CiAgICAg\nICAgICAgIGludCBpZCA9IC0xOwogICAgICAgICAgICB0cnkgewogICAgICAg\nICAgICAgICAgTWV0aG9kIG10aCA9IGVudC5nZXRDbGFzcygpLmdldE1ldGhv\nZCgiZ2V0SWQiLCAoQ2xhc3NbXSludWxsKTsKICAgICAgICAgICAgICAgIGlk\nID0gKEludGVnZXIpbXRoLmludm9rZShlbnQsIChPYmplY3RbXSludWxsKTsK\nICAgICAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHsKICAgICAgICAg\nICAgICAgIGZhaWwoIkNhdWdodCB1bmV4ZXBjdGVkIGV4Y2VwdGlvbiBnZXR0\naW5nIGVudGl0eSBpZDogIiAKICAgICAgICAgICAgICAgICAgICArIGUuZ2V0\nTWVzc2FnZSgpKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBmb3IgKGlu\ndCBqID0gMDsgaiA8IGV4cGVjdGVkVmFsdWVzLmxlbmd0aDsgaisrKQogICAg\nICAgICAgICAgICAgaWYgKGV4cGVjdGVkVmFsdWVzW2pdID09IGlkKSAgICAg\nICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICBjb3VudCsrOwog\nICAgICAgIH0KICAgICAgICBhc3NlcnRUcnVlKCJSZXR1cm5lZCBleHBlY3Rl\nZCBlbnRpdGllcyIsIAogICAgICAgICAgICAgICAgY291bnQgPT0gZXhwZWN0\nZWRWYWx1ZXMubGVuZ3RoKTsKICAgIH0gICAgCn0K\n","encoding":"base64"}

