{"sha":"e65be4faa136276fec74a2eab65dcf4faa057788","node_id":"MDQ6QmxvYjIwNjM2NDplNjViZTRmYWExMzYyNzZmZWM3NGEyZWFiNjVkY2Y0ZmFhMDU3Nzg4","size":5747,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/e65be4faa136276fec74a2eab65dcf4faa057788","content":"LyoNCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUNCiAqIG9yIG1vcmUgY29udHJpYnV0b3Ig\nbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZQ0KICog\nZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5m\nb3JtYXRpb24NCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAg\nVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUNCiAqIHRvIHlvdSB1bmRlciB0\naGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUNCiAqICJMaWNl\nbnNlIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNv\nbXBsaWFuY2UNCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFp\nbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQNCiAqDQogKiBodHRwOi8vd3d3\nLmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjANCiAqDQogKiBVbmxl\nc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGlu\nIHdyaXRpbmcsDQogKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUg\nTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbg0KICogIkFTIElTIiBCQVNJ\nUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZDQog\nKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBM\naWNlbnNlIGZvciB0aGUNCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmlu\nZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMNCiAqIHVuZGVyIHRoZSBM\naWNlbnNlLg0KICovDQpwYWNrYWdlIG9yZy5hcGFjaGUub3BlbmpwYS5wZXJz\naXN0ZW5jZS5qZGJjLmFubm90YXRpb25zOw0KDQppbXBvcnQgb3JnLmFwYWNo\nZS5vcGVuanBhLmpkYmMuY29uZi5KREJDQ29uZmlndXJhdGlvbjsNCmltcG9y\ndCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5tZXRhLkNsYXNzTWFwcGluZzsN\nCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5tZXRhLkZpZWxkTWFw\ncGluZzsNCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubWV0YS5GZXRjaEdy\nb3VwOw0KaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5tZXRhLkphdmFUeXBl\nczsNCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEubWV0YS5VcGRhdGVTdHJh\ndGVnaWVzOw0KaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5tZXRhLlZhbHVl\nTWV0YURhdGE7DQppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLm1ldGEuVmFs\ndWVTdHJhdGVnaWVzOw0KaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJz\naXN0ZW5jZS50ZXN0LlNpbmdsZUVNRlRlc3RDYXNlOw0KDQovKioNCiAqIDxw\nPlRlc3QgdGhlIHBhcnNpbmcgb2YgS29kbyBtZXRhZGF0YSBleHRlbnNpb24g\nYW5ub3RhdGlvbnMuPC9wPg0KICoNCiAqIEBhdXRob3IgQWJlIFdoaXRlDQog\nKi8NCnB1YmxpYyBjbGFzcyBUZXN0RXh0ZW5zaW9uQW5ub3RhdGlvbnMNCiAg\nICBleHRlbmRzIFNpbmdsZUVNRlRlc3RDYXNlIHsNCg0KICAgIHByaXZhdGUg\nQ2xhc3NNYXBwaW5nIF9tYXBwaW5nOw0KDQogICAgcHVibGljIHZvaWQgc2V0\nVXAoKSB7DQogICAgICAgIHNldFVwKEV4dGVuc2lvbnNFbnRpdHkuY2xhc3Mp\nOw0KICAgICAgICBfbWFwcGluZyA9ICgoSkRCQ0NvbmZpZ3VyYXRpb24pIGVt\nZi5nZXRDb25maWd1cmF0aW9uKCkpLg0KICAgICAgICAgICAgZ2V0TWFwcGlu\nZ1JlcG9zaXRvcnlJbnN0YW5jZSgpLmdldE1hcHBpbmcoRXh0ZW5zaW9uc0Vu\ndGl0eS5jbGFzcywNCiAgICAgICAgICAgIG51bGwsIHRydWUpOw0KICAgIH0N\nCg0KICAgIHB1YmxpYyB2b2lkIHRlc3REYXRhU3RvcmVJZCgpIHsNCiAgICAg\nICAgYXNzZXJ0RXF1YWxzKENsYXNzTWFwcGluZy5JRF9EQVRBU1RPUkUsIF9t\nYXBwaW5nLmdldElkZW50aXR5VHlwZSgpKTsNCiAgICAgICAgYXNzZXJ0RXF1\nYWxzKFZhbHVlU3RyYXRlZ2llcy5TRVFVRU5DRSwgX21hcHBpbmcuZ2V0SWRl\nbnRpdHlTdHJhdGVneSgpKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKCJzeXN0\nZW0iLCBfbWFwcGluZy5nZXRJZGVudGl0eVNlcXVlbmNlTmFtZSgpKTsNCiAg\nICB9DQoNCiAgICBwdWJsaWMgdm9pZCB0ZXN0RGF0YUNhY2hlKCkgew0KICAg\nICAgICBhc3NlcnROdWxsKF9tYXBwaW5nLmdldERhdGFDYWNoZU5hbWUoKSk7\nDQogICAgfQ0KDQogICAgcHVibGljIHZvaWQgdGVzdEZldGNoR3JvdXBzKCkg\new0KICAgICAgICBGZXRjaEdyb3VwIGZnID0gX21hcHBpbmcuZ2V0RmV0Y2hH\ncm91cCgiZGV0YWlsIik7DQogICAgICAgIGFzc2VydE5vdE51bGwoZmcpOw0K\nICAgICAgICBhc3NlcnRGYWxzZShmZy5pc1Bvc3RMb2FkKCkpOw0KICAgICAg\nICBGaWVsZE1hcHBpbmcgZm0gPSBfbWFwcGluZy5nZXRGaWVsZE1hcHBpbmco\nInJlbCIpOw0KICAgICAgICBhc3NlcnRFcXVhbHMoMSwgZm0uZ2V0Q3VzdG9t\nRmV0Y2hHcm91cHMoKS5sZW5ndGgpOw0KICAgICAgICBhc3NlcnRFcXVhbHMo\nImRldGFpbCIsIGZtLmdldEN1c3RvbUZldGNoR3JvdXBzKClbMF0pOw0KICAg\nICAgICBhc3NlcnRFcXVhbHMoLTEsIGZnLmdldFJlY3Vyc2lvbkRlcHRoKGZt\nKSk7DQogICAgICAgIGZtID0gX21hcHBpbmcuZ2V0RmllbGRNYXBwaW5nKCJz\nZXEiKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKDEsIGZtLmdldEN1c3RvbUZl\ndGNoR3JvdXBzKCkubGVuZ3RoKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKCJk\nZXRhaWwiLCBmbS5nZXRDdXN0b21GZXRjaEdyb3VwcygpWzBdKTsNCiAgICAg\nICAgYXNzZXJ0RXF1YWxzKDEsIGZnLmdldFJlY3Vyc2lvbkRlcHRoKGZtKSk7\nDQogICAgfQ0KDQogICAgcHVibGljIHZvaWQgdGVzdFZhbHVlU3RyYXRlZ3ko\nKSB7DQogICAgICAgIGFzc2VydEVxdWFscyhWYWx1ZVN0cmF0ZWdpZXMuVVVJ\nRF9IRVgsDQogICAgICAgICAgICBfbWFwcGluZy5nZXRGaWVsZCgidXVpZCIp\nLmdldFZhbHVlU3RyYXRlZ3koKSk7DQogICAgICAgIGFzc2VydEVxdWFscyhW\nYWx1ZVN0cmF0ZWdpZXMuVVVJRF9TVFJJTkcsDQogICAgICAgICAgICBfbWFw\ncGluZy5nZXRGaWVsZCgidXVpZFN0cmluZyIpLmdldFZhbHVlU3RyYXRlZ3ko\nKSk7DQogICAgICAgIGFzc2VydEVxdWFscyhWYWx1ZVN0cmF0ZWdpZXMuVVVJ\nRF9UWVBFNF9IRVgsDQogICAgICAgICAgICBfbWFwcGluZy5nZXRGaWVsZCgi\ndXVpZFQ0SGV4IikuZ2V0VmFsdWVTdHJhdGVneSgpKTsNCiAgICAgICAgYXNz\nZXJ0RXF1YWxzKFZhbHVlU3RyYXRlZ2llcy5VVUlEX1RZUEU0X1NUUklORywN\nCiAgICAgICAgICAgIF9tYXBwaW5nLmdldEZpZWxkKCJ1dWlkVDRTdHJpbmci\nKS5nZXRWYWx1ZVN0cmF0ZWd5KCkpOw0KICAgICAgICBGaWVsZE1hcHBpbmcg\nc2VxID0gX21hcHBpbmcuZ2V0RmllbGRNYXBwaW5nKCJzZXEiKTsNCiAgICAg\nICAgYXNzZXJ0RXF1YWxzKFZhbHVlU3RyYXRlZ2llcy5TRVFVRU5DRSwgc2Vx\nLmdldFZhbHVlU3RyYXRlZ3koKSk7DQogICAgICAgIGFzc2VydEVxdWFscygi\nc3lzdGVtIiwgc2VxLmdldFZhbHVlU2VxdWVuY2VOYW1lKCkpOw0KICAgIH0N\nCg0KICAgIHB1YmxpYyB2b2lkIHRlc3RSZWFkT25seSgpIHsNCiAgICAgICAg\nYXNzZXJ0RXF1YWxzKFVwZGF0ZVN0cmF0ZWdpZXMuUkVTVFJJQ1QsDQogICAg\nICAgICAgICBfbWFwcGluZy5nZXRGaWVsZCgic2VxIikuZ2V0VXBkYXRlU3Ry\nYXRlZ3koKSk7DQogICAgfQ0KDQogICAgcHVibGljIHZvaWQgdGVzdEludmVy\nc2VMb2dpY2FsKCkgew0KICAgICAgICBhc3NlcnRFcXVhbHMoIm93bmVyIiwg\nX21hcHBpbmcuZ2V0RmllbGQoInJlbCIpLmdldEludmVyc2UoKSk7DQogICAg\nICAgIGFzc2VydE51bGwoX21hcHBpbmcuZ2V0RmllbGQoIm93bmVyIikuZ2V0\nSW52ZXJzZSgpKTsNCiAgICB9DQoNCiAgICBwdWJsaWMgdm9pZCB0ZXN0RGVw\nZW5kZW50KCkgew0KICAgICAgICBhc3NlcnRFcXVhbHMoVmFsdWVNZXRhRGF0\nYS5DQVNDQURFX0FVVE8sDQogICAgICAgICAgICBfbWFwcGluZy5nZXRGaWVs\nZCgicmVsIikuZ2V0Q2FzY2FkZURlbGV0ZSgpKTsNCiAgICAgICAgYXNzZXJ0\nRXF1YWxzKFZhbHVlTWV0YURhdGEuQ0FTQ0FERV9OT05FLA0KICAgICAgICAg\nICAgX21hcHBpbmcuZ2V0RmllbGQoImVhZ2VyIikuZ2V0Q2FzY2FkZURlbGV0\nZSgpKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKFZhbHVlTWV0YURhdGEuQ0FT\nQ0FERV9BVVRPLA0KICAgICAgICAgICAgX21hcHBpbmcuZ2V0RmllbGQoImVh\nZ2VyIikuZ2V0RWxlbWVudCgpLmdldENhc2NhZGVEZWxldGUoKSk7DQogICAg\nfQ0KDQogICAgcHVibGljIHZvaWQgdGVzdExSUygpIHsNCiAgICAgICAgYXNz\nZXJ0VHJ1ZShfbWFwcGluZy5nZXRGaWVsZCgibHJzIikuaXNMUlMoKSk7DQog\nICAgICAgIGFzc2VydEZhbHNlKF9tYXBwaW5nLmdldEZpZWxkKCJlYWdlciIp\nLmlzTFJTKCkpOw0KICAgIH0NCg0KICAgIHB1YmxpYyB2b2lkIHRlc3RDbGFz\nc0NyaXRlcmlhKCkgew0KICAgICAgICBhc3NlcnRUcnVlKF9tYXBwaW5nLmdl\ndEZpZWxkTWFwcGluZygiZWFnZXIiKS5nZXRFbGVtZW50TWFwcGluZygpLg0K\nICAgICAgICAgICAgZ2V0VXNlQ2xhc3NDcml0ZXJpYSgpKTsNCiAgICAgICAg\nYXNzZXJ0RmFsc2UoX21hcHBpbmcuZ2V0RmllbGRNYXBwaW5nKCJlYWdlciIp\nLmdldFVzZUNsYXNzQ3JpdGVyaWEoKSk7DQogICAgICAgIGFzc2VydEZhbHNl\nKF9tYXBwaW5nLmdldEZpZWxkTWFwcGluZygibHJzIikuZ2V0RWxlbWVudE1h\ncHBpbmcoKS4NCiAgICAgICAgICAgIGdldFVzZUNsYXNzQ3JpdGVyaWEoKSk7\nDQogICAgfQ0KDQogICAgcHVibGljIHZvaWQgdGVzdEV4dGVybmFsVmFsdWVz\nKCkgew0KICAgICAgICBGaWVsZE1hcHBpbmcgZXh0ZXJuYWxWYWx1ZXMgPSBf\nbWFwcGluZy5nZXRGaWVsZE1hcHBpbmcNCiAgICAgICAgICAgICgiZXh0ZXJu\nYWxWYWx1ZXMiKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKEphdmFUeXBlcy5D\nSEFSLCBleHRlcm5hbFZhbHVlcy5nZXREZWNsYXJlZFR5cGVDb2RlKCkpOw0K\nICAgICAgICBhc3NlcnRFcXVhbHMoSmF2YVR5cGVzLklOVCwgZXh0ZXJuYWxW\nYWx1ZXMuZ2V0VHlwZUNvZGUoKSk7DQogICAgICAgIGFzc2VydEVxdWFscyhu\nZXcgSW50ZWdlcigxKSwgZXh0ZXJuYWxWYWx1ZXMuZ2V0RXh0ZXJuYWxWYWx1\nZU1hcCgpLg0KICAgICAgICAgICAgZ2V0KG5ldyBDaGFyYWN0ZXIoJ00nKSkp\nOw0KICAgICAgICBhc3NlcnRFcXVhbHMobmV3IEludGVnZXIoMiksIGV4dGVy\nbmFsVmFsdWVzLmdldEV4dGVybmFsVmFsdWVNYXAoKS4NCiAgICAgICAgICAg\nIGdldChuZXcgQ2hhcmFjdGVyKCdGJykpKTsNCiAgICB9DQoNCiAgICBwdWJs\naWMgdm9pZCB0ZXN0RXh0ZXJuYWxpemVyKCkgew0KICAgICAgICBGaWVsZE1h\ncHBpbmcgZXh0ZXJuYWxpemVyID0gX21hcHBpbmcuZ2V0RmllbGRNYXBwaW5n\nKCJleHRlcm5hbGl6ZXIiKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKEphdmFU\neXBlcy5PQkpFQ1QsIGV4dGVybmFsaXplci5nZXREZWNsYXJlZFR5cGVDb2Rl\nKCkpOw0KICAgICAgICBhc3NlcnRFcXVhbHMoSmF2YVR5cGVzLlNUUklORywg\nZXh0ZXJuYWxpemVyLmdldFR5cGVDb2RlKCkpOw0KICAgICAgICBhc3NlcnRF\ncXVhbHMoImphdmEubGFuZy5TdHJpbmciLCBleHRlcm5hbGl6ZXIuZ2V0RXh0\nZXJuYWxWYWx1ZQ0KICAgICAgICAgICAgKFN0cmluZy5jbGFzcywgbnVsbCkp\nOw0KICAgICAgICBhc3NlcnRFcXVhbHMoU3RyaW5nLmNsYXNzLCBleHRlcm5h\nbGl6ZXIuZ2V0RmllbGRWYWx1ZQ0KICAgICAgICAgICAgKFN0cmluZy5jbGFz\ncy5nZXROYW1lKCksIG51bGwpKTsNCiAgICB9DQp9DQo=\n","encoding":"base64"}

