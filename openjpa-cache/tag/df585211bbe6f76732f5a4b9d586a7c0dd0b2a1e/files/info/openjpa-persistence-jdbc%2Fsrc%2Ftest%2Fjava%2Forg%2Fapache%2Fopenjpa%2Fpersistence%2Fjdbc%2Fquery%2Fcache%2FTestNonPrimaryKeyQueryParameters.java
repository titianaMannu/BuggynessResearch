{"sha":"43e3ea8c69662842a0269c8d3861ed82849af5a7","node_id":"MDQ6QmxvYjIwNjM2NDo0M2UzZWE4YzY5NjYyODQyYTAyNjljOGQzODYxZWQ4Mjg0OWFmNWE3","size":5217,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/43e3ea8c69662842a0269c8d3861ed82849af5a7","content":"LyoNCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUNCiAqIG9yIG1vcmUgY29udHJpYnV0b3Ig\nbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZQ0KICog\nZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5m\nb3JtYXRpb24NCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAg\nVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUNCiAqIHRvIHlvdSB1bmRlciB0\naGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUNCiAqICJMaWNl\nbnNlIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNv\nbXBsaWFuY2UNCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFp\nbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQNCiAqDQogKiBodHRwOi8vd3d3\nLmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjANCiAqDQogKiBVbmxl\nc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGlu\nIHdyaXRpbmcsDQogKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUg\nTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbg0KICogIkFTIElTIiBCQVNJ\nUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZDQog\nKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBM\naWNlbnNlIGZvciB0aGUNCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmlu\nZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMNCiAqIHVuZGVyIHRoZSBM\naWNlbnNlLiAgICANCiAqLw0KcGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEu\ncGVyc2lzdGVuY2UuamRiYy5xdWVyeS5jYWNoZTsNCg0KaW1wb3J0IGphdmEu\ndXRpbC5BcnJheUxpc3Q7DQppbXBvcnQgamF2YS51dGlsLkNvbGxlY3Rpb247\nDQoNCmltcG9ydCBqYXZheC5wZXJzaXN0ZW5jZS5FbnRpdHlNYW5hZ2VyOw0K\naW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLlF1ZXJ5Ow0KDQppbXBvcnQgb3Jn\nLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLnRlc3QuU1FMTGlzdGVuZXJU\nZXN0Q2FzZTsNCg0KLyoqDQogKiBUZXN0cyB0aGF0IGZpbmQoKSBxdWVyaWVz\nIHRoYXQgdXNlIG5vbi1wcmltYXJ5IGtleXMgY2FuIGJlIGNhY2hlZC4NCiAq\nIA0KICogU1FMIFF1ZXJ5IENhY2hlIGNhY2hlcyBTUUwgcXVlcmllcyBnZW5l\ncmF0ZWQgdG8gc2VsZWN0IHNpbmdsZSBlbnRpdHkuDQogKiBIb3dldmVyLCBz\naW5nbGUgaW5zdGFuY2UgcXVlcmllcyBtYXkgYWxzbyBqb2luIHRvIG90aGVy\nIHJlbGF0aW9ucy4gSGVuY2UsDQogKiBwcmltYXJ5IGtleSBhbmQgZm9yZWln\nbiBrZXlzIGFyZSBub3JtYWxseSB0aGUgcGFyYW1ldGVycyB0byB0aGVzZSBx\ndWVyaWVzDQogKiB3aGljaCBjYWNoZWQgcXVlcnkgYmluZHMgYWdhaW4gd2hl\nbiBiZWluZyByZXVzZWQuDQogKiANCiAqIFRoZSB0ZXN0IHZlcmlmaWVzIHRo\nZSBjYXNlIHdoZXJlIG5vbi1wcmltYXJ5IGtleXMgYXJlIHVzZWQgYXMgcXVl\ncnkNCiAqIHBhcmFtZXRlcnMuIFRoZSB0ZXN0IGVtcGxveXMgYSBpbmhlcml0\nYW5jZSBoaWVyYXJjaHkgbWFwcGVkIHRvIFNJTkdMRV9UQUJMRS4NCiAqIFdo\nZW4gZGVyaXZlZCBpbnN0YW5jZXMgYXJlIHVzZWQgaW4gcmVsYXRpb25zaGlw\nLCB0aGUgZGlzY3JpbWluYXRvciB2YWx1ZXMNCiAqIG11c3QgYmUgdXNlZCBp\nbiB0byBqb2luIHRvIHRoZSB0YXJnZXQgdHlwZS4NCiAqIA0KICogRm9yIGZ1\ncnRoZXIgZGV0YWlscywgcmVmZXIgPEENCiAqIEhSRUY9Imh0dHBzOi8vaXNz\ndWVzLmFwYWNoZS5vcmcvamlyYS9icm93c2UvT1BFTkpQQS02NjAiPk9QRU5K\nUEEtNjYwPC9BPg0KICogDQogKiANCiAqIEBhdXRob3IgUGluYWtpIFBvZGRh\ncg0KICogQGF1dGhvciBWaWtyYW0gQmhhdGlhDQogKiANCiAqLw0KcHVibGlj\nIGNsYXNzIFRlc3ROb25QcmltYXJ5S2V5UXVlcnlQYXJhbWV0ZXJzIGV4dGVu\nZHMgU1FMTGlzdGVuZXJUZXN0Q2FzZSB7DQoJcHJpdmF0ZSBzdGF0aWMgZmlu\nYWwgaW50IEZVTExUSU1FX0VNUExPWUVFX0NPVU5UID0gMzsNCglwcml2YXRl\nIHN0YXRpYyBmaW5hbCBpbnQgUEFSVFRJTUVfRU1QTE9ZRUVfQ09VTlQgPSAy\nOw0KCXByaXZhdGUgc3RhdGljIGZpbmFsIFN0cmluZyBERVBUX05BTUUgPSAi\nRU5HSU5FRVJJTkciOw0KDQoJcHVibGljIHZvaWQgc2V0VXAoKSB7DQoJCXN1\ncGVyLnNldFVwKENMRUFSX1RBQkxFUywgRGVwYXJ0bWVudC5jbGFzcywgRW1w\nbG95ZWUuY2xhc3MsDQoJCQkJRnVsbFRpbWVFbXBsb3llZS5jbGFzcywgUGFy\ndFRpbWVFbXBsb3llZS5jbGFzcywNCgkJCQkib3BlbmpwYS5qZGJjLlF1ZXJ5\nU1FMQ2FjaGUiLCAidHJ1ZSIpOw0KCQljcmVhdGVEZXBhcnRtZW50KERFUFRf\nTkFNRSk7DQoJCXNxbC5jbGVhcigpOw0KCX0NCg0KCXB1YmxpYyB2b2lkIHRl\nc3RTZWxlY3RRdWVyeVdpdGhQcmltYXJ5S2V5UGFyYW1ldGVyKCkgew0KCQlF\nbnRpdHlNYW5hZ2VyIGVtID0gZW1mLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTsN\nCg0KCQlRdWVyeSBxdWVyeSA9IGVtDQoJCQkJLmNyZWF0ZVF1ZXJ5KCJTRUxF\nQ1QgZCBmcm9tIERlcGFydG1lbnQgZCB3aGVyZSBkLm5hbWU9PzEiKTsNCgkJ\ncXVlcnkuc2V0UGFyYW1ldGVyKDEsIERFUFRfTkFNRSk7DQoJCURlcGFydG1l\nbnQgZGVwdCA9IChEZXBhcnRtZW50KSBxdWVyeS5nZXRTaW5nbGVSZXN1bHQo\nKTsNCg0KCQlhc3NlcnRFcXVhbHMoRlVMTFRJTUVfRU1QTE9ZRUVfQ09VTlQs\nIGRlcHQuZ2V0RnVsbFRpbWVFbXBsb3llZXMoKQ0KCQkJCS5zaXplKCkpOw0K\nCQlhc3NlcnRFcXVhbHMoUEFSVFRJTUVfRU1QTE9ZRUVfQ09VTlQsIGRlcHQu\nZ2V0UGFydFRpbWVFbXBsb3llZXMoKQ0KCQkJCS5zaXplKCkpOw0KCQlhc3Nl\ncnRTUUwoIi4qIEFORCB0MC5UWVBFID0gLioiKTsNCgkJZW0uY2xvc2UoKTsN\nCgl9DQoNCglwdWJsaWMgdm9pZCB0ZXN0U2VsZWN0UXVlcnlXaXRoTm9QYXJh\nbWV0ZXIoKSB7DQoJCUVudGl0eU1hbmFnZXIgZW0gPSBlbWYuY3JlYXRlRW50\naXR5TWFuYWdlcigpOw0KDQoJCVF1ZXJ5IHF1ZXJ5ID0gZW0uY3JlYXRlUXVl\ncnkoIlNFTEVDVCBkIGZyb20gRGVwYXJ0bWVudCBkIik7DQoJCXF1ZXJ5LnNl\ndFBhcmFtZXRlcigxLCBERVBUX05BTUUpOw0KCQlEZXBhcnRtZW50IGRlcHQg\nPSAoRGVwYXJ0bWVudCkgcXVlcnkuZ2V0U2luZ2xlUmVzdWx0KCk7DQoNCgkJ\nYXNzZXJ0RXF1YWxzKEZVTExUSU1FX0VNUExPWUVFX0NPVU5ULCBkZXB0Lmdl\ndEZ1bGxUaW1lRW1wbG95ZWVzKCkNCgkJCQkuc2l6ZSgpKTsNCgkJYXNzZXJ0\nRXF1YWxzKFBBUlRUSU1FX0VNUExPWUVFX0NPVU5ULCBkZXB0LmdldFBhcnRU\naW1lRW1wbG95ZWVzKCkNCgkJCQkuc2l6ZSgpKTsNCg0KCQlhc3NlcnRTUUwo\nIi4qIEFORCB0MC5UWVBFID0gLioiKTsNCgkJZW0uY2xvc2UoKTsNCgl9DQoN\nCglwdWJsaWMgdm9pZCB0ZXN0RmluZCgpIHsNCgkJRW50aXR5TWFuYWdlciBl\nbSA9IGVtZi5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7DQoNCgkJRGVwYXJ0bWVu\ndCBkZXB0ID0gZW0uZmluZChEZXBhcnRtZW50LmNsYXNzLCBERVBUX05BTUUp\nOw0KDQoJCWFzc2VydEVxdWFscyhGVUxMVElNRV9FTVBMT1lFRV9DT1VOVCwg\nZGVwdC5nZXRGdWxsVGltZUVtcGxveWVlcygpDQoJCQkJLnNpemUoKSk7DQoJ\nCWFzc2VydEVxdWFscyhQQVJUVElNRV9FTVBMT1lFRV9DT1VOVCwgZGVwdC5n\nZXRQYXJ0VGltZUVtcGxveWVlcygpDQoJCQkJLnNpemUoKSk7DQoNCgkJYXNz\nZXJ0U1FMKCIuKiBBTkQgdDAuVFlQRSA9IC4qIik7DQoJCWVtLmNsb3NlKCk7\nDQoJfQ0KDQoJcHVibGljIHZvaWQgdGVzdFNlbGVjdFN1YkNsYXNzKCkgew0K\nCQlFbnRpdHlNYW5hZ2VyIGVtID0gZW1mLmNyZWF0ZUVudGl0eU1hbmFnZXIo\nKTsNCg0KCQlRdWVyeSBxdWVyeSA9IGVtLmNyZWF0ZVF1ZXJ5KCJTRUxFQ1Qg\nZSBmcm9tIEZ1bGxUaW1lRW1wbG95ZWUgZSIpOw0KCQlhc3NlcnRFcXVhbHMo\nRlVMTFRJTUVfRU1QTE9ZRUVfQ09VTlQsIHF1ZXJ5LmdldFJlc3VsdExpc3Qo\nKS5zaXplKCkpOw0KDQoJCXF1ZXJ5ID0gZW0uY3JlYXRlUXVlcnkoIlNFTEVD\nVCBlIGZyb20gUGFydFRpbWVFbXBsb3llZSBlIik7DQoJCWFzc2VydEVxdWFs\ncyhQQVJUVElNRV9FTVBMT1lFRV9DT1VOVCwgcXVlcnkuZ2V0UmVzdWx0TGlz\ndCgpLnNpemUoKSk7DQoNCgkJYXNzZXJ0U1FMKCIuKiBXSEVSRSB0MC5UWVBF\nID0gLioiKTsNCgl9DQoNCglwdWJsaWMgdm9pZCB0ZXN0U2VsZWN0QmFzZUNs\nYXNzKCkgew0KCQlFbnRpdHlNYW5hZ2VyIGVtID0gZW1mLmNyZWF0ZUVudGl0\neU1hbmFnZXIoKTsNCg0KCQlRdWVyeSBxdWVyeSA9IGVtLmNyZWF0ZVF1ZXJ5\nKCJTRUxFQ1QgZSBmcm9tIEVtcGxveWVlIGUiKTsNCgkJYXNzZXJ0RXF1YWxz\nKEZVTExUSU1FX0VNUExPWUVFX0NPVU5UICsgUEFSVFRJTUVfRU1QTE9ZRUVf\nQ09VTlQsIHF1ZXJ5DQoJCQkJLmdldFJlc3VsdExpc3QoKS5zaXplKCkpOw0K\nCQlhc3NlcnROb3RTUUwoIi4qIFdIRVJFIHQwLlRZUEUgPSAuKiIpOw0KCX0N\nCg0KCXByaXZhdGUgdm9pZCBjcmVhdGVEZXBhcnRtZW50KFN0cmluZyBkZXB0\nTmFtZSkgew0KCQlpZiAoY291bnQoRGVwYXJ0bWVudC5jbGFzcykgPiAwKQ0K\nCQkJcmV0dXJuOw0KDQoJCURlcGFydG1lbnQgZGVwdCA9IG5ldyBEZXBhcnRt\nZW50KCk7DQoJCWRlcHQuc2V0TmFtZShkZXB0TmFtZSk7DQoNCgkJZm9yIChp\nbnQgaSA9IDE7IGkgPD0gRlVMTFRJTUVfRU1QTE9ZRUVfQ09VTlQ7IGkrKykg\new0KCQkJRnVsbFRpbWVFbXBsb3llZSBlID0gbmV3IEZ1bGxUaW1lRW1wbG95\nZWUoKTsNCgkJCWUuc2V0U3NuKCI4ODgtUFAtMDAxIiArIGkpOw0KCQkJZS5z\nZXRTYWxhcnkoMTAwMDAwKTsNCgkJCWRlcHQuYWRkRW1wbG95ZWUoZSk7DQoJ\nCX0NCgkJZm9yIChpbnQgaSA9IDE7IGkgPD0gUEFSVFRJTUVfRU1QTE9ZRUVf\nQ09VTlQ7IGkrKykgew0KCQkJUGFydFRpbWVFbXBsb3llZSBlID0gbmV3IFBh\ncnRUaW1lRW1wbG95ZWUoKTsNCgkJCWUuc2V0U3NuKCI5OTktUFAtMDAxIiAr\nIGkpOw0KCQkJZS5zZXRIb3VybHlXYWdlKDIwKTsNCgkJCWRlcHQuYWRkRW1w\nbG95ZWUoZSk7DQoJCX0NCg0KCQlFbnRpdHlNYW5hZ2VyIGVtID0gZW1mLmNy\nZWF0ZUVudGl0eU1hbmFnZXIoKTsNCgkJZW0uZ2V0VHJhbnNhY3Rpb24oKS5i\nZWdpbigpOw0KCQllbS5wZXJzaXN0KGRlcHQpOw0KCQllbS5nZXRUcmFuc2Fj\ndGlvbigpLmNvbW1pdCgpOw0KCQllbS5jbG9zZSgpOw0KDQoJfQ0KfQ0K\n","encoding":"base64"}

