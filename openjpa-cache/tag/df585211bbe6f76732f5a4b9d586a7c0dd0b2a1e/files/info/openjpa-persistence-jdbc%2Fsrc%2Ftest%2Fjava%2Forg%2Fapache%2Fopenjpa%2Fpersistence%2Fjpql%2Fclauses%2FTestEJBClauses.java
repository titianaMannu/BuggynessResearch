{"sha":"72685e2f878293e767ee9388603a16dc502b7083","node_id":"MDQ6QmxvYjIwNjM2NDo3MjY4NWUyZjg3ODI5M2U3NjdlZTkzODg2MDNhMTZkYzUwMmI3MDgz","size":6827,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/72685e2f878293e767ee9388603a16dc502b7083","content":"LyoNCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUNCiAqIG9yIG1vcmUgY29udHJpYnV0b3Ig\nbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZQ0KICog\nZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5m\nb3JtYXRpb24NCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAg\nVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUNCiAqIHRvIHlvdSB1bmRlciB0\naGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUNCiAqICJMaWNl\nbnNlIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNv\nbXBsaWFuY2UNCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFp\nbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQNCiAqDQogKiBodHRwOi8vd3d3\nLmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjANCiAqDQogKiBVbmxl\nc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGlu\nIHdyaXRpbmcsDQogKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUg\nTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbg0KICogIkFTIElTIiBCQVNJ\nUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZDQog\nKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBM\naWNlbnNlIGZvciB0aGUNCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmlu\nZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMNCiAqIHVuZGVyIHRoZSBM\naWNlbnNlLiAgICANCiAqLw0KcGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEu\ncGVyc2lzdGVuY2UuanBxbC5jbGF1c2VzOw0KDQppbXBvcnQgamF2YS51dGls\nLkFycmF5TGlzdDsNCmltcG9ydCBqYXZhLnV0aWwuTGlzdDsNCmltcG9ydCBq\nYXZheC5wZXJzaXN0ZW5jZS5FbnRpdHlNYW5hZ2VyOw0KDQppbXBvcnQgb3Jn\nLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNlLmNvbW1vbi51dGlscy5BYnN0\ncmFjdFRlc3RDYXNlOw0KaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJz\naXN0ZW5jZS5jb21tb24uYXBwcy5Db3Vyc2U7DQppbXBvcnQgb3JnLmFwYWNo\nZS5vcGVuanBhLnBlcnNpc3RlbmNlLmNvbW1vbi5hcHBzLkFydENvdXJzZTsN\nCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuY29tbW9u\nLmFwcHMuRGVwYXJ0bWVudDsNCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEu\ncGVyc2lzdGVuY2UuY29tbW9uLmFwcHMuU3R1ZGVudDsNCg0KcHVibGljIGNs\nYXNzIFRlc3RFSkJDbGF1c2VzIGV4dGVuZHMgQWJzdHJhY3RUZXN0Q2FzZSB7\nDQoNCiAgICBwdWJsaWMgVGVzdEVKQkNsYXVzZXMoU3RyaW5nIG5hbWUpIHsN\nCiAgICAgICAgc3VwZXIobmFtZSwgImpwcWxjbGF1c2VzY2FjdHVzYXBwIik7\nDQogICAgfQ0KDQogICAgcHVibGljIHZvaWQgc2V0VXAoKSB7DQogICAgICAg\nIGRlbGV0ZUFsbChDb3Vyc2UuY2xhc3MpOw0KICAgICAgICBkZWxldGVBbGwo\nU3R1ZGVudC5jbGFzcyk7DQogICAgICAgIGRlbGV0ZUFsbChEZXBhcnRtZW50\nLmNsYXNzKTsNCg0KICAgICAgICBFbnRpdHlNYW5hZ2VyIGVtID0gY3VycmVu\ndEVudGl0eU1hbmFnZXIoKTsNCiAgICAgICAgc3RhcnRUeChlbSk7DQoNCiAg\nICAgICAgU3RyaW5nIG5hbWUgPSAiIjsNCiAgICAgICAgTGlzdDxDb3Vyc2U+\nIGNsaXN0ID0gbmV3IEFycmF5TGlzdDxDb3Vyc2U+KCk7DQogICAgICAgIExp\nc3Q8RGVwYXJ0bWVudD4gZGxpc3QgPSBuZXcgQXJyYXlMaXN0PERlcGFydG1l\nbnQ+KCk7DQoNCiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCA1OyBpKysp\nIHsNCiAgICAgICAgICAgIENvdXJzZSBjdXJyID0gbmV3IENvdXJzZSgiTWF0\naCAiICsgaSwgaSAqIDIsIGkpOw0KICAgICAgICAgICAgQ291cnNlIGFjdXJy\nID0gbmV3IEFydENvdXJzZShpICsgMjAsICJFbmdsaXNoIiArICgyICogaSkp\nOw0KICAgICAgICAgICAgRGVwYXJ0bWVudCBkdXJyID0gbmV3IERlcGFydG1l\nbnQoIkNvbXBTY2kiICsgaSwgbnVsbCwgaSArIDIpOw0KICAgICAgICAgICAg\nY2xpc3QuYWRkKGN1cnIpOw0KICAgICAgICAgICAgY2xpc3QuYWRkKGFjdXJy\nKTsNCiAgICAgICAgICAgIGRsaXN0LmFkZChkdXJyKTsNCiAgICAgICAgfQ0K\nDQogICAgICAgIFN0dWRlbnQgc3R1ZCA9IG5ldyBTdHVkZW50KCJKb25hdGhh\nbiIsIGNsaXN0LCBkbGlzdCk7DQogICAgICAgIFN0dWRlbnQgc3R1ZDIgPSBu\nZXcgU3R1ZGVudCgiU3RhbSIsIG51bGwsIGRsaXN0KTsNCiAgICAgICAgU3R1\nZGVudCBzdHVkMyA9IG5ldyBTdHVkZW50KCJKb2huIiwgY2xpc3QsIG51bGwp\nOw0KICAgICAgICBTdHVkZW50IHN0dWQ0ID0gbmV3IFN0dWRlbnQoIkJpbGwi\nLCBudWxsLCBudWxsKTsNCg0KICAgICAgICBlbS5wZXJzaXN0KHN0dWQpOw0K\nICAgICAgICBlbS5wZXJzaXN0KHN0dWQyKTsNCiAgICAgICAgZW0ucGVyc2lz\ndChzdHVkMyk7DQogICAgICAgIGVtLnBlcnNpc3Qoc3R1ZDQpOw0KDQogICAg\nICAgIGVuZFR4KGVtKTsNCiAgICAgICAgZW5kRW0oZW0pOw0KICAgIH0NCg0K\nICAgIHB1YmxpYyB2b2lkIHRlc3RGcm9tQ2xhdXNlMSgpIHsNCiAgICAgICAg\nRW50aXR5TWFuYWdlciBlbSA9IGN1cnJlbnRFbnRpdHlNYW5hZ2VyKCk7DQog\nICAgICAgIFN0cmluZyBxdWVyeSA9ICJTRUxFQ1Qgby5uYW1lIEZST00gU3R1\nZGVudCBvIjsNCg0KICAgICAgICBMaXN0IHJlc3VsdCA9IGVtLmNyZWF0ZVF1\nZXJ5KHF1ZXJ5KQ0KICAgICAgICAgICAgLmdldFJlc3VsdExpc3QoKTsNCg0K\nICAgICAgICBhc3NlcnROb3ROdWxsKHJlc3VsdCk7DQogICAgICAgIGFzc2Vy\ndEVxdWFscyg0LCByZXN1bHQuc2l6ZSgpKTsNCg0KICAgICAgICBlbmRFbShl\nbSk7DQogICAgfQ0KDQogICAgcHVibGljIHZvaWQgdGVzdEZyb21DbGF1c2Uy\nKCkgew0KICAgICAgICBFbnRpdHlNYW5hZ2VyIGVtID0gY3VycmVudEVudGl0\neU1hbmFnZXIoKTsNCg0KICAgICAgICBTdHJpbmcgcXVlcnkgPSAiU0VMRUNU\nIE5FVyBhcHBzLkFydENvdXJzZShlLm5hbWUpIiArDQogICAgICAgICAgICAi\nRlJPTSBTdHVkZW50IGUiOw0KDQogICAgICAgIExpc3QgcmVzdWx0ID0gZW0u\nY3JlYXRlUXVlcnkocXVlcnkpLmdldFJlc3VsdExpc3QoKTsNCg0KICAgICAg\nICBhc3NlcnROb3ROdWxsKHJlc3VsdCk7DQogICAgICAgIGFzc2VydEVxdWFs\ncyg0LCByZXN1bHQuc2l6ZSgpKTsNCg0KICAgICAgICBlbmRFbShlbSk7DQog\nICAgfQ0KDQogICAgcHVibGljIHZvaWQgdGVzdEZyb21DbGF1c2UzKCkgew0K\nICAgICAgICBFbnRpdHlNYW5hZ2VyIGVtID0gY3VycmVudEVudGl0eU1hbmFn\nZXIoKTsNCiAgICAgICAgU3RyaW5nIHF1ZXJ5ID0gIlNFTEVDVCBvLm5hbWUg\nIiArDQogICAgICAgICAgICAiRlJPTSBTdHVkZW50IG8sIENvdXJzZSBjICIg\nKw0KICAgICAgICAgICAgIldIRVJFIG8uY291cnNlIElTIE5VTEwgQU5EIG8u\nZGVwYXJ0bWVudCBJUyBOVUxMIjsNCg0KICAgICAgICBMaXN0IGxzID0gKExp\nc3QpIGVtLmNyZWF0ZVF1ZXJ5KHF1ZXJ5KQ0KICAgICAgICAgICAgLmdldFJl\nc3VsdExpc3QoKTsNCiAgICAgICAgU3RyaW5nIHVubyA9IChTdHJpbmcpIGxz\nLmdldCgwKTsNCg0KICAgICAgICBhc3NlcnROb3ROdWxsKGxzKTsNCiAgICAg\nICAgYXNzZXJ0RXF1YWxzKDEsIGxzLnNpemUoKSk7DQogICAgICAgIGFzc2Vy\ndEVxdWFscygiQmlsbCIsIHVubyk7DQoNCiAgICAgICAgZW5kRW0oZW0pOw0K\nICAgIH0NCg0KICAgIHB1YmxpYyB2b2lkIHRlc3RXaGVyZUNsYXVzZTEoKSB7\nDQogICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBjdXJyZW50RW50aXR5TWFu\nYWdlcigpOw0KICAgICAgICBTdHJpbmcgcXVlcnkgPSAiU0VMRUNUIGRpc3Rp\nbmN0IHMubmFtZSAiICsNCiAgICAgICAgICAgICJGUk9NIFN0dWRlbnQgcywg\nQ291cnNlIGQgIiArDQogICAgICAgICAgICAiV0hFUkUgZC5jb3Vyc2VJZCA+\nPSA0IEFORCBzLmRlcGFydG1lbnQgSVMgTk9UIE5VTEwiOw0KDQogICAgICAg\nIExpc3QgbHMgPSBlbS5jcmVhdGVRdWVyeShxdWVyeSkuZ2V0UmVzdWx0TGlz\ndCgpOw0KDQogICAgICAgIGFzc2VydE5vdE51bGwobHMpOw0KICAgICAgICBh\nc3NlcnRFcXVhbHMoMiwgbHMuc2l6ZSgpKTsNCg0KICAgICAgICBlbmRFbShl\nbSk7DQogICAgfQ0KDQogICAgcHVibGljIHZvaWQgdGVzdFdoZXJlQ2xhdXNl\nMigpIHsNCiAgICAgICAgRW50aXR5TWFuYWdlciBlbSA9IGN1cnJlbnRFbnRp\ndHlNYW5hZ2VyKCk7DQogICAgICAgIFN0cmluZyBxdWVyeSA9ICJTRUxFQ1Qg\nZGlzdGluY3Qgcy5uYW1lICIgKw0KICAgICAgICAgICAgIkZST00gU3R1ZGVu\ndCBzICIgKw0KICAgICAgICAgICAgIldIRVJFIiArDQogICAgICAgICAgICAi\nIEV4aXN0cyhTRUxFQ1QgYyBGUk9NIHMuY291cnNlIGMgV0hFUkUgYy5uYW1l\nIExJS0UgJ01hdGglJykiOw0KDQogICAgICAgIExpc3QgbHMgPSBlbS5jcmVh\ndGVRdWVyeShxdWVyeSkuZ2V0UmVzdWx0TGlzdCgpOw0KDQogICAgICAgIGFz\nc2VydE5vdE51bGwobHMpOw0KICAgICAgICBhc3NlcnRFcXVhbHMoMiwgbHMu\nc2l6ZSgpKTsNCiAgICAgICAgYXNzZXJ0VHJ1ZShscy5jb250YWlucygiSm9u\nYXRoYW4iKSk7DQogICAgICAgIGFzc2VydFRydWUobHMuY29udGFpbnMoIkpv\naG4iKSk7DQoNCiAgICAgICAgZW5kRW0oZW0pOw0KICAgIH0NCg0KICAgIHB1\nYmxpYyB2b2lkIHRlc3RDbGF1c2VSYW5nZVZhcigpIHsNCiAgICAgICAgRW50\naXR5TWFuYWdlciBlbSA9IGN1cnJlbnRFbnRpdHlNYW5hZ2VyKCk7DQogICAg\nICAgIFN0cmluZyBxdWVyeSA9ICJTRUxFQ1QgRElTVElOQ1QgcyBGUk9NIFN0\ndWRlbnQgcywgU3R1ZGVudCBzMiAiICsNCiAgICAgICAgICAgICJXSEVSRSBz\nLm5hbWUgPSAnSm9obicgQU5EIHMyLm5hbWUgPSAnSm9uYXRoYW4nIjsNCg0K\nICAgICAgICBMaXN0IGxzID0gZW0uY3JlYXRlUXVlcnkocXVlcnkpLmdldFJl\nc3VsdExpc3QoKTsNCg0KICAgICAgICBhc3NlcnROb3ROdWxsKGxzKTsNCiAg\nICAgICAgYXNzZXJ0RXF1YWxzKDEsIGxzLnNpemUoKSk7DQoNCiAgICAgICAg\nU3R1ZGVudCByZXQgPSAoU3R1ZGVudCkgbHMuZ2V0KDApOw0KICAgICAgICBh\nc3NlcnRFcXVhbHMoIkpvaG4iLCByZXQuZ2V0TmFtZSgpKTsNCg0KICAgICAg\nICBlbmRFbShlbSk7DQogICAgfQ0KDQogICAgcHVibGljIHZvaWQgdGVzdENs\nYXVzZVBhdGhFeHByKCkgew0KICAgICAgICBFbnRpdHlNYW5hZ2VyIGVtID0g\nY3VycmVudEVudGl0eU1hbmFnZXIoKTsNCiAgICAgICAgU3RyaW5nIGZhaWx1\ncmUgPSAiU0VMRUNUIERJU1RJTkNUIHMgIiArDQogICAgICAgICAgICAiRlJP\nTSBTdHVkZW50IHMgV0hFUkUiICsNCiAgICAgICAgICAgICIgcy5kZXBhcnRt\nZW50Lm5hbWUgPSAnQ29tcFNjaTEnIjsNCiAgICAgICAgLy8gQ2hhbmdlcyBy\nZWxhdGVkIHRvIE9QRU5KUEEtNDg1IGFsbG93cyB0aGlzIHF1ZXJ5IHRvIHBh\nc3MuDQogICAgICAgIC8vIFRoZSBxdWVyeSBpcyBub3Qga29zaGVyIGFzIGl0\nIGRvZXMgbmF2aWdhdGUgdGhyb3VnaCBhIA0KICAgICAgICAvLyBjb2xsZWN0\naW9uLXZhbHVlZC1wYXRoLWV4cHJlc3Npb24gKHMuZGVwYXJ0bWVudC5uYW1l\nKSB3aGVyZQ0KICAgICAgICAvLyBkZXBhcnRtZW50IGlzIGEgQ29sbGVjdGlv\nbi4gDQogICAgICAgIC8vIEJ1dCB3ZSBhbGxvdyB0aGlzIGJlY2F1c2Ugb2Yg\ndGhlIGNvbnZlbmllbmNlIG9mIHRoZSBxdWVyeSBleHByZXNzaW9uIA0KICAg\nICAgICBMaXN0IGxzID0gZW0uY3JlYXRlUXVlcnkoZmFpbHVyZSkuZ2V0UmVz\ndWx0TGlzdCgpOw0KICAgICAgICBhc3NlcnRGYWxzZShscy5pc0VtcHR5KCkp\nOw0KICAgICAgICBlbmRFbShlbSk7DQogICAgfQ0KDQogICAgcHVibGljIHZv\naWQgdGVzdENsYXVzZVBhdGhFeHByMigpIHsNCiAgICAgICAgRW50aXR5TWFu\nYWdlciBlbSA9IGN1cnJlbnRFbnRpdHlNYW5hZ2VyKCk7DQogICAgICAgIFN0\ncmluZyBzdWNjZXNzID0NCiAgICAgICAgICAgICJTRUxFQ1QgRElTVElOQ1Qg\nZC5uYW1lIEZST00gU3R1ZGVudCBBUyBzLCBJTihzLmRlcGFydG1lbnQpIGQg\nIjsNCg0KICAgICAgICBMaXN0IGxzMiA9IGVtLmNyZWF0ZVF1ZXJ5KHN1Y2Nl\nc3MpLmdldFJlc3VsdExpc3QoKTsNCg0KICAgICAgICBhc3NlcnROb3ROdWxs\nKGxzMik7DQogICAgICAgIGFzc2VydEVxdWFscyg1LCBsczIuc2l6ZSgpKTsN\nCg0KICAgICAgICBlbmRFbShlbSk7DQogICAgfQ0KDQogICAgcHVibGljIHZv\naWQgdGVzdENvbGxNZW1iZXJEZWNsKCkgew0KICAgICAgICBFbnRpdHlNYW5h\nZ2VyIGVtID0gY3VycmVudEVudGl0eU1hbmFnZXIoKTsNCg0KICAgICAgICBT\ndHJpbmcgY29sbGRlYyA9ICJTRUxFQ1QgRElTVElOQ1Qgcy5uYW1lICIgKw0K\nICAgICAgICAgICAgIkZST00gU3R1ZGVudCBzLCIgKw0KICAgICAgICAgICAg\nIiBJTihzLmRlcGFydG1lbnQpIGQiICsNCiAgICAgICAgICAgICIgV0hFUkUg\nZC5uYW1lID0gJ0NvbXBTY2kyJyI7DQoNCiAgICAgICAgTGlzdCBscyA9IGVt\nLmNyZWF0ZVF1ZXJ5KGNvbGxkZWMpLmdldFJlc3VsdExpc3QoKTsNCg0KICAg\nICAgICBhc3NlcnROb3ROdWxsKGxzKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxz\nKDIsIGxzLnNpemUoKSk7DQogICAgICAgIGFzc2VydFRydWUobHMuY29udGFp\nbnMoIkpvbmF0aGFuIikpOw0KICAgICAgICBhc3NlcnRUcnVlKGxzLmNvbnRh\naW5zKCJTdGFtIikpOw0KDQogICAgICAgIGVuZEVtKGVtKTsNCiAgICB9DQoN\nCiAgICAvKioNCiAgICAgKiBHcm91cEJ5ICwgT3JkZXJCeSBjbGF1c2UgaXMg\ndGVzdGVkIGJ5IHRlc3RlamJxbGZ1bmN0aW9uIHVuZGVyDQogICAgICogZnVu\nY3Rpb25hbCBkaXJlY3RvcnkuDQogICAgICovDQp9DQo=\n","encoding":"base64"}

