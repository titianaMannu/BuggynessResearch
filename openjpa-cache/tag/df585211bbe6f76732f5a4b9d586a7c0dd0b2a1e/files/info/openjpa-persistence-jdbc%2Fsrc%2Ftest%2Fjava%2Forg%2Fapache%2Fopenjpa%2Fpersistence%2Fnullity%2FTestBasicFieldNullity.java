{"sha":"d8bf5cbbdbcc27ccb20d840ac83e9c5dd1bad2c2","node_id":"MDQ6QmxvYjIwNjM2NDpkOGJmNWNiYmRiY2MyN2NjYjIwZDg0MGFjODNlOWM1ZGQxYmFkMmMy","size":4939,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/d8bf5cbbdbcc27ccb20d840ac83e9c5dd1bad2c2","content":"LyoNCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUNCiAqIG9yIG1vcmUgY29udHJpYnV0b3Ig\nbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZQ0KICog\nZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5m\nb3JtYXRpb24NCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAg\nVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUNCiAqIHRvIHlvdSB1bmRlciB0\naGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUNCiAqICJMaWNl\nbnNlIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNv\nbXBsaWFuY2UNCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFp\nbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQNCiAqDQogKiBodHRwOi8vd3d3\nLmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjANCiAqDQogKiBVbmxl\nc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGlu\nIHdyaXRpbmcsDQogKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUg\nTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbg0KICogIkFTIElTIiBCQVNJ\nUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZDQog\nKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBM\naWNlbnNlIGZvciB0aGUNCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmlu\nZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMNCiAqIHVuZGVyIHRoZSBM\naWNlbnNlLiAgICANCiAqLw0KcGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEu\ncGVyc2lzdGVuY2UubnVsbGl0eTsNCg0KaW1wb3J0IGphdmF4LnBlcnNpc3Rl\nbmNlLkVudGl0eU1hbmFnZXI7DQppbXBvcnQgamF2YXgucGVyc2lzdGVuY2Uu\nUm9sbGJhY2tFeGNlcHRpb247DQoNCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5q\ncGEucGVyc2lzdGVuY2UuSW52YWxpZFN0YXRlRXhjZXB0aW9uOw0KaW1wb3J0\nIG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5PcGVuSlBBUGVyc2lz\ndGVuY2U7DQppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNl\nLnRlc3QuU2luZ2xlRU1GVGVzdENhc2U7DQoNCg0KLyoqDQogKiBUZXN0IEBC\nYXNpYyhvcHRpb25hbD10cnVlfGZhbHNlKSBhbmQgQENvbHVtbihudWxsYWJs\nZT10cnVlfGZhbHNlKSANCiAqIHNwZWNpZmljYXRpb24gaXMgaG9ub3JlZC4g\nDQogKiBOb3RlOiBudWxsIGNvbnN0cmFpbnQgdmlvbGF0aW9uIG1hbmlmZXN0\ncyBhcyBkaWZmZXJlbnQgZXhjZXB0aW9uIHR5cGVzDQogKiBmb3Igb3B0aW9u\nIGFuZCBudWxsYWJsZSBjb25kaXRpb24uDQogKg0KICogQGF1dGhvciBQaW5h\na2kgUG9kZGFyDQogKi8NCnB1YmxpYyBjbGFzcyBUZXN0QmFzaWNGaWVsZE51\nbGxpdHkgZXh0ZW5kcyBTaW5nbGVFTUZUZXN0Q2FzZSB7DQoJcHJpdmF0ZSBz\ndGF0aWMgYm9vbGVhbiBORVcgPSB0cnVlOw0KDQogICAgcHVibGljIHZvaWQg\nc2V0VXAoKSB7DQogICAgICAgIHNldFVwKENMRUFSX1RBQkxFUywgTnVsbFZh\nbHVlcy5jbGFzcyk7DQogICAgfQ0KDQogICAgcHVibGljIHZvaWQgdGVzdE51\nbGxPbk9wdGlvbmFsRmllbGRJc0FsbG93ZWQoKSB7DQogICAgCU51bGxWYWx1\nZXMgcGMgPSBuZXcgTnVsbFZhbHVlcygpOw0KICAgIAlwYy5zZXRPcHRpb25h\nbChudWxsKTsgDQogICAgCWFzc2VydENvbW1pdFN1Y2NlZWRzKHBjLCBORVcp\nOw0KICAgIH0NCiAgICANCiAgICBwdWJsaWMgdm9pZCB0ZXN0TnVsbE9uTm9u\nT3B0aW9uYWxGaWVsZElzRGlzYWxsb3dlZCgpIHsNCiAgICAJTnVsbFZhbHVl\ncyBwYyA9IG5ldyBOdWxsVmFsdWVzKCk7DQogICAgCXBjLnNldE5vdE9wdGlv\nbmFsKG51bGwpOw0KICAgIAlhc3NlcnRDb21taXRGYWlscyhwYywgTkVXLCBJ\nbnZhbGlkU3RhdGVFeGNlcHRpb24uY2xhc3MpOw0KICAgIH0NCiAgICANCiAg\nICBwdWJsaWMgdm9pZCB0ZXN0Tm90TnVsbE9uT3B0aW9uYWxGaWVsZElzQWxs\nb3dlZCgpIHsNCiAgICAJTnVsbFZhbHVlcyBwYyA9IG5ldyBOdWxsVmFsdWVz\nKCk7DQogICAgCWFzc2VydENvbW1pdFN1Y2NlZWRzKHBjLCBORVcpOw0KICAg\nIH0NCiAgICANCiAgICBwdWJsaWMgdm9pZCB0ZXN0Tm90TnVsbE9uTm9uT3B0\naW9uYWxGaWVsZElzQWxsb3dlZCgpIHsNCiAgICAJTnVsbFZhbHVlcyBwYyA9\nIG5ldyBOdWxsVmFsdWVzKCk7DQogICAgCWFzc2VydENvbW1pdFN1Y2NlZWRz\nKHBjLCBORVcpOw0KICAgIH0NCiAgICANCiAgICBwdWJsaWMgdm9pZCB0ZXN0\nTnVsbE9uTnVsbGFibGVDb2x1bW5BbGxvd2VkKCkgew0KICAgIAlOdWxsVmFs\ndWVzIHBjID0gbmV3IE51bGxWYWx1ZXMoKTsNCiAgICAJcGMuc2V0TnVsbGFi\nbGUobnVsbCk7DQogICAgCWFzc2VydENvbW1pdFN1Y2NlZWRzKHBjLCBORVcp\nOw0KICAgIH0NCiAgICANCiAgICBwdWJsaWMgdm9pZCB0ZXN0TnVsbE9uTm9u\nTnVsbGFibGVDb2x1bW5Jc0Rpc2FsbG93ZWQoKSB7DQogICAgCU51bGxWYWx1\nZXMgcGMgPSBuZXcgTnVsbFZhbHVlcygpOw0KICAgIAlwYy5zZXROb3ROdWxs\nYWJsZShudWxsKTsNCiAgICAJYXNzZXJ0Q29tbWl0RmFpbHMocGMsIE5FVywg\nUm9sbGJhY2tFeGNlcHRpb24uY2xhc3MpOw0KICAgIH0NCiAgICANCiAgICBw\ndWJsaWMgdm9pZCB0ZXN0Tm90TnVsbE9uTnVsbGFibGVDb2x1bW5Jc0FsbG93\nZWQoKSB7DQogICAgCU51bGxWYWx1ZXMgcGMgPSBuZXcgTnVsbFZhbHVlcygp\nOw0KICAgIAlhc3NlcnRDb21taXRTdWNjZWVkcyhwYywgTkVXKTsNCiAgICB9\nDQogICAgDQogICAgcHVibGljIHZvaWQgdGVzdE5vdE51bGxPbk5vbk51bGxh\nYmxlQ29sdW1uSXNBbGxvd2VkKCkgew0KICAgIAlOdWxsVmFsdWVzIHBjID0g\nbmV3IE51bGxWYWx1ZXMoKTsNCiAgICAJYXNzZXJ0Q29tbWl0U3VjY2VlZHMo\ncGMsIE5FVyk7DQogICAgfQ0KICAgIA0KICAgIHB1YmxpYyB2b2lkIHRlc3RO\ndWxsT25PcHRpb25hbEJsb2JGaWVsZElzQWxsb3dlZCgpIHsNCiAgICAJTnVs\nbFZhbHVlcyBwYyA9IG5ldyBOdWxsVmFsdWVzKCk7DQogICAgCXBjLnNldE9w\ndGlvbmFsQmxvYihudWxsKTsNCiAgICAJYXNzZXJ0Q29tbWl0U3VjY2VlZHMo\ncGMsIE5FVyk7DQogICAgfQ0KICAgIA0KICAgIHB1YmxpYyB2b2lkIHRlc3RO\ndWxsT25Ob25PcHRpb25hbEJsb2JGaWVsZElzRGlzYWxsb3dlZCgpIHsNCiAg\nICAJTnVsbFZhbHVlcyBwYyA9IG5ldyBOdWxsVmFsdWVzKCk7DQogICAgCXBj\nLnNldE5vdE9wdGlvbmFsQmxvYihudWxsKTsNCiAgICAJYXNzZXJ0Q29tbWl0\nRmFpbHMocGMsIE5FVywgSW52YWxpZFN0YXRlRXhjZXB0aW9uLmNsYXNzKTsN\nCiAgICB9DQogICAgDQogICAgcHVibGljIHZvaWQgdGVzdE51bGxPbk51bGxh\nYmxlQmxvYkNvbHVtbkFsbG93ZWQoKSB7DQogICAgCU51bGxWYWx1ZXMgcGMg\nPSBuZXcgTnVsbFZhbHVlcygpOw0KICAgIAlwYy5zZXROdWxsYWJsZUJsb2Io\nbnVsbCk7DQogICAgCWFzc2VydENvbW1pdFN1Y2NlZWRzKHBjLCBORVcpOw0K\nICAgIH0NCiAgICANCiAgICBwdWJsaWMgdm9pZCB0ZXN0TnVsbE9uTm9uTnVs\nbGFibGVCbG9iQ29sdW1uSXNEaXNhbGxvd2VkKCkgew0KICAgIAlOdWxsVmFs\ndWVzIHBjID0gbmV3IE51bGxWYWx1ZXMoKTsNCiAgICAJcGMuc2V0Tm90TnVs\nbGFibGVCbG9iKG51bGwpOw0KICAgIAlhc3NlcnRDb21taXRGYWlscyhwYywg\nTkVXLCBSb2xsYmFja0V4Y2VwdGlvbi5jbGFzcyk7DQogICAgfQ0KICAgIA0K\nICAgIHB1YmxpYyB2b2lkIHRlc3RYKCkgew0KICAgIAlOdWxsVmFsdWVzIHBj\nID0gbmV3IE51bGxWYWx1ZXMoKTsNCiAgICAJYXNzZXJ0Q29tbWl0U3VjY2Vl\nZHMocGMsIE5FVyk7DQogICAgCU9wZW5KUEFQZXJzaXN0ZW5jZS5nZXRFbnRp\ndHlNYW5hZ2VyKHBjKS5jbG9zZSgpOw0KICAgIAkNCiAgICAJcGMuc2V0Tm90\nTnVsbGFibGVCbG9iKG51bGwpOw0KICAgIAlhc3NlcnRDb21taXRGYWlscyhw\nYywgIU5FVywgUm9sbGJhY2tFeGNlcHRpb24uY2xhc3MpOw0KICAgIAkNCiAg\nICB9DQogICAgDQogICAgLyoqDQogICAgICogQXNzZXJ0cyB0aGF0IHRoZSBn\naXZlbiBpbnN0YW5jZSBjYW4gbm90IGJlIGNvbW1pdHRlZC4NCiAgICAgKi8N\nCiAgICB2b2lkIGFzc2VydENvbW1pdEZhaWxzKE9iamVjdCBwYywgYm9vbGVh\nbiBpc05ldywgQ2xhc3MgZXhwZWN0ZWQpIHsNCiAgICAJRW50aXR5TWFuYWdl\nciBlbSA9IGVtZi5jcmVhdGVFbnRpdHlNYW5hZ2VyKCk7DQogICAgCWVtLmdl\ndFRyYW5zYWN0aW9uKCkuYmVnaW4oKTsNCiAgICAJaWYgKGlzTmV3KQ0KICAg\nIAkJZW0ucGVyc2lzdChwYyk7DQogICAgCWVsc2Ugew0KICAgIAkJT2JqZWN0\nIG1lcmdlZCA9IGVtLm1lcmdlKHBjKTsNCiAgICAJfQ0KICAgIAl0cnkgew0K\nCQkJZW0uZ2V0VHJhbnNhY3Rpb24oKS5jb21taXQoKTsNCgkJCWZhaWwoKTsN\nCgkJfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHsNCgkJCWlmICghZXhwZWN0ZWQu\naXNBc3NpZ25hYmxlRnJvbShlLmdldENsYXNzKCkpKSB7DQoJCQkJZS5wcmlu\ndFN0YWNrVHJhY2UoKTsNCgkJCQlmYWlsKCJFeHBlY3RlZCAiICsgZXhwZWN0\nZWQuZ2V0TmFtZSgpKTsNCgkJCX0gDQoJCX0NCiAgICB9DQogICAgDQogICAg\ndm9pZCBhc3NlcnRDb21taXRTdWNjZWVkcyhPYmplY3QgcGMsIGJvb2xlYW4g\naXNOZXcpIHsNCiAgICAJRW50aXR5TWFuYWdlciBlbSA9IGVtZi5jcmVhdGVF\nbnRpdHlNYW5hZ2VyKCk7DQogICAgCWVtLmdldFRyYW5zYWN0aW9uKCkuYmVn\naW4oKTsNCiAgICAJaWYgKGlzTmV3KQ0KICAgIAkJZW0ucGVyc2lzdChwYyk7\nDQogICAgCWVsc2UgDQogICAgCQllbS5tZXJnZShwYyk7DQogICAgCXRyeSB7\nDQoJCQllbS5nZXRUcmFuc2FjdGlvbigpLmNvbW1pdCgpOw0KCQl9IGNhdGNo\nIChSdW50aW1lRXhjZXB0aW9uIGUpIHsNCgkJCWUucHJpbnRTdGFja1RyYWNl\nKCk7DQoJCQlmYWlsKCk7DQoJCX0NCiAgICB9DQp9DQoNCg==\n","encoding":"base64"}

