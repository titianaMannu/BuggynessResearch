{"sha":"f0d15c475520f6989cb8c4766ae01e895450f794","node_id":"MDQ6QmxvYjIwNjM2NDpmMGQxNWM0NzU1MjBmNjk4OWNiOGM0NzY2YWUwMWU4OTU0NTBmNzk0","size":4264,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/f0d15c475520f6989cb8c4766ae01e895450f794","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UucXVlcnk7\nCgppbXBvcnQgamF2YS51dGlsLkxpc3Q7CgppbXBvcnQgamF2YXgucGVyc2lz\ndGVuY2UuRW50aXR5TWFuYWdlcjsKCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5q\ncGEucGVyc2lzdGVuY2UudGVzdC5TaW5nbGVFTUZUZXN0Q2FzZTsKCi8qKgog\nKiBUZXN0IEpQUUwgc3VicXVlcnkKICovCnB1YmxpYyBjbGFzcyBUZXN0U3Vi\ncXVlcnkKICAgIGV4dGVuZHMgU2luZ2xlRU1GVGVzdENhc2UgewoKICAgIHB1\nYmxpYyB2b2lkIHNldFVwKCkgewogICAgICAgIHNldFVwKEN1c3RvbWVyLmNs\nYXNzLCBDdXN0b21lci5DdXN0b21lcktleS5jbGFzcywKICAgICAgICAgICAg\nT3JkZXIuY2xhc3MsIE9yZGVySXRlbS5jbGFzcywgQ0xFQVJfVEFCTEVTKTsK\nICAgIH0KCiAgICBzdGF0aWMgU3RyaW5nW10gIHF1ZXJ5cyA9IG5ldyBTdHJp\nbmdbXSB7CiAgICAgICAgInNlbGVjdCBvMS5vaWQgZnJvbSBPcmRlciBvMSB3\naGVyZSBvMS5vaWQgaW4gIiArCiAgICAgICAgICAgICIgKHNlbGVjdCBkaXN0\naW5jdCBvLm9pZCBmcm9tIE9yZGVySXRlbSBpLCBPcmRlciBvIiArCiAgICAg\nICAgICAgICIgd2hlcmUgaS5xdWFudGl0eSA+IDEwIGFuZCBvLmFtb3VudCA+\nIDEwMDAgYW5kIGkubGlkID0gby5vaWQpIiAsCiAgICAgICAgInNlbGVjdCBv\nLm9pZCBmcm9tIE9yZGVyIG8gd2hlcmUgby5jdXN0b21lci5uYW1lID0iICsK\nICAgICAgICAgICAgIiAoc2VsZWN0IG1heChvMi5jdXN0b21lci5uYW1lKSBm\ncm9tIE9yZGVyIG8yIiArCiAgICAgICAgICAgICIgd2hlcmUgby5jdXN0b21l\nci5jaWQuaWQgPSBvMi5jdXN0b21lci5jaWQuaWQpIiwKICAgICAgICAic2Vs\nZWN0IG8gZnJvbSBPcmRlciBvIHdoZXJlIG8uY3VzdG9tZXIubmFtZSA9IiAr\nCiAgICAgICAgICAgICIgKHNlbGVjdCBtYXgobzIuY3VzdG9tZXIubmFtZSkg\nZnJvbSBPcmRlciBvMiIgKwogICAgICAgICAgICAiIHdoZXJlIG8uY3VzdG9t\nZXIuY2lkLmlkID0gbzIuY3VzdG9tZXIuY2lkLmlkKSIsCiAgICAgICAgInNl\nbGVjdCBvLm9pZCBmcm9tIE9yZGVyIG8gd2hlcmUgby5hbW91bnQgPiIgKwog\nICAgICAgICAgICAiIChzZWxlY3QgY291bnQoaSkgZnJvbSBvLmxpbmVpdGVt\ncyBpKSIsCiAgICAgICAgInNlbGVjdCBvLm9pZCBmcm9tIE9yZGVyIG8gd2hl\ncmUgby5hbW91bnQgPiIgKwogICAgICAgICAgICAiIChzZWxlY3QgY291bnQo\nby5hbW91bnQpIGZyb20gT3JkZXIgbykiLAogICAgICAgICJzZWxlY3Qgby5v\naWQgZnJvbSBPcmRlciBvIHdoZXJlIG8uYW1vdW50ID4iICsKICAgICAgICAg\nICAgIiAoc2VsZWN0IGNvdW50KG8ub2lkKSBmcm9tIE9yZGVyIG8pIiwKICAg\nICAgICAic2VsZWN0IG8ub2lkIGZyb20gT3JkZXIgbyB3aGVyZSBvLmFtb3Vu\ndCA+IiArCiAgICAgICAgICAgICIgKHNlbGVjdCBhdmcoby5hbW91bnQpIGZy\nb20gT3JkZXIgbykiLAogICAgICAgICJzZWxlY3QgYy5uYW1lIGZyb20gQ3Vz\ndG9tZXIgYyB3aGVyZSBleGlzdHMiICsKICAgICAgICAgICAgIiAoc2VsZWN0\nIG8gZnJvbSBjLm9yZGVycyBvIHdoZXJlIG8ub2lkID0gMSkgb3IgZXhpc3Rz\nIiArCiAgICAgICAgICAgICIgKHNlbGVjdCBvIGZyb20gYy5vcmRlcnMgbyB3\naGVyZSBvLm9pZCA9IDIpIiwKICAgICAgICAic2VsZWN0IGMubmFtZSBmcm9t\nIEN1c3RvbWVyIGMsIGluKGMub3JkZXJzKSBvIHdoZXJlIG8uYW1vdW50IGJl\ndHdlZW4iICsKICAgICAgICAgICAgIiAoc2VsZWN0IG1heChvLmFtb3VudCkg\nZnJvbSBPcmRlciBvKSBhbmQiICsKICAgICAgICAgICAgIiAoc2VsZWN0IGF2\nZyhvLmFtb3VudCkgZnJvbSBPcmRlciBvKSAiLAogICAgICAgICJzZWxlY3Qg\nby5vaWQgZnJvbSBPcmRlciBvIHdoZXJlIG8uYW1vdW50ID4iICsKICAgICAg\nICAgICAgIiAoc2VsZWN0IHN1bShvMi5hbW91bnQpIGZyb20gQ3VzdG9tZXIg\nYywgaW4oYy5vcmRlcnMpIG8yKSAiLCAgIAogICAgICAgICJzZWxlY3Qgby5v\naWQgZnJvbSBPcmRlciBvIHdoZXJlIG8uYW1vdW50IGJldHdlZW4iICsKICAg\nICAgICAgICAgIiAoc2VsZWN0IGF2ZyhvMi5hbW91bnQpIGZyb20gQ3VzdG9t\nZXIgYywgaW4oYy5vcmRlcnMpIG8yKSIgKwogICAgICAgICAgICAiIGFuZCAo\nc2VsZWN0IG1pbihvMi5hbW91bnQpIGZyb20gQ3VzdG9tZXIgYywgaW4oYy5v\ncmRlcnMpIG8yKSIsCiAgICAgICAgInNlbGVjdCBvLm9pZCBmcm9tIEN1c3Rv\nbWVyIGMsIGluKGMub3JkZXJzKW8gd2hlcmUgby5hbW91bnQgPiIgKwogICAg\nICAgICAgICAiIChzZWxlY3Qgc3VtKG8yLmFtb3VudCkgZnJvbSBjLm9yZGVy\ncyBvMikiLAogICAgLy8gb3V0c3RhbmRpbmcgcHJvYmxlbSBzdWJxdWVyaWVz\nOgogICAgLy8ic2VsZWN0IG8gZnJvbSBPcmRlciBvIHdoZXJlIG8uYW1vdW50\nID4gKHNlbGVjdCBjb3VudChvKSBmcm9tIE9yZGVyIG8pIiwKICAgIC8vInNl\nbGVjdCBvIGZyb20gT3JkZXIgbyB3aGVyZSBvLmFtb3VudCA+IChzZWxlY3Qg\nY291bnQobzIpIGZyb20gT3JkZXIgbzIpIiwKICAgIC8vICJzZWxlY3QgYyBm\ncm9tIEN1c3RvbWVyIGMgbGVmdCBqb2luIGMub3JkZXJzIHAgd2hlcmUgbm90\nIGV4aXN0cyIKICAgIC8vICAgKyAiIChzZWxlY3QgbzIgZnJvbSBjLm9yZGVy\ncyBvMiB3aGVyZSBvMiA9IG8iLAogICAgfTsKCgogICAgc3RhdGljIFN0cmlu\nZ1tdIHVwZGF0ZXMgPSBuZXcgU3RyaW5nW10gewogICAgICAgICJ1cGRhdGUg\nT3JkZXIgbyBzZXQgby5hbW91bnQgPSAxMDAwIHdoZXJlIG8uY3VzdG9tZXIu\nbmFtZSA9ICIgKwogICAgICAgICAgICAiIChzZWxlY3QgbWF4KG8yLmN1c3Rv\nbWVyLm5hbWUpIGZyb20gT3JkZXIgbzIgIiArIAogICAgICAgICAgICAiIHdo\nZXJlIG8uY3VzdG9tZXIuY2lkLmlkID0gbzIuY3VzdG9tZXIuY2lkLmlkKSIs\nICAKICAgIH07CgoKICAgIHB1YmxpYyB2b2lkIHRlc3RTdWJxdWVyeSgpIHsK\nICAgICAgICBFbnRpdHlNYW5hZ2VyIGVtID0gZW1mLmNyZWF0ZUVudGl0eU1h\nbmFnZXIoKTsKICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IHF1ZXJ5cy5s\nZW5ndGg7IGkrKykgewogICAgICAgICAgICBTdHJpbmcgcSA9IHF1ZXJ5c1tp\nXTsKICAgICAgICAgICAgTGlzdCBycyA9IGVtLmNyZWF0ZVF1ZXJ5KHEpLmdl\ndFJlc3VsdExpc3QoKTsKICAgICAgICAgICAgYXNzZXJ0RXF1YWxzKDAsIHJz\nLnNpemUoKSk7CiAgICAgICAgfQoKICAgICAgICBlbS5nZXRUcmFuc2FjdGlv\nbigpLmJlZ2luKCk7CiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCB1cGRh\ndGVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGludCB1cGRhdGVDb3Vu\ndCA9IGVtLmNyZWF0ZVF1ZXJ5KHVwZGF0ZXNbaV0pLmV4ZWN1dGVVcGRhdGUo\nKTsKICAgICAgICAgICAgYXNzZXJ0RXF1YWxzKDAsIHVwZGF0ZUNvdW50KTsK\nICAgICAgICB9CgogICAgICAgIGVtLmdldFRyYW5zYWN0aW9uKCkucm9sbGJh\nY2soKTsKICAgICAgICBlbS5jbG9zZSgpOwogICAgfQp9Cg==\n","encoding":"base64"}

