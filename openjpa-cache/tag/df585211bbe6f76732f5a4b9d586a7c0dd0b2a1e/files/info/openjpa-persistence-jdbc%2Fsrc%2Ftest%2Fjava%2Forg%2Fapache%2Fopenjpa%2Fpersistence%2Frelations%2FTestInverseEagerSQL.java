{"sha":"dc71f83aab3f25b1f9c2ec8edbd811c433b7d4a7","node_id":"MDQ6QmxvYjIwNjM2NDpkYzcxZjgzYWFiM2YyNWIxZjljMmVjOGVkYmQ4MTFjNDMzYjdkNGE3","size":7189,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/dc71f83aab3f25b1f9c2ec8edbd811c433b7d4a7","content":"LyoNCiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRh\ndGlvbiAoQVNGKSB1bmRlciBvbmUNCiAqIG9yIG1vcmUgY29udHJpYnV0b3Ig\nbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZQ0KICog\nZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5m\nb3JtYXRpb24NCiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAg\nVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUNCiAqIHRvIHlvdSB1bmRlciB0\naGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUNCiAqICJMaWNl\nbnNlIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNv\nbXBsaWFuY2UNCiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFp\nbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQNCiAqDQogKiBodHRwOi8vd3d3\nLmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjANCiAqDQogKiBVbmxl\nc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGlu\nIHdyaXRpbmcsDQogKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUg\nTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbg0KICogIkFTIElTIiBCQVNJ\nUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZDQog\nKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBM\naWNlbnNlIGZvciB0aGUNCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmlu\nZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMNCiAqIHVuZGVyIHRoZSBM\naWNlbnNlLiAgICANCiAqLw0KcGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEu\ncGVyc2lzdGVuY2UucmVsYXRpb25zOw0KDQppbXBvcnQgamF2YS51dGlsLkNv\nbGxlY3Rpb247DQppbXBvcnQgamF2YS51dGlsLkl0ZXJhdG9yOw0KaW1wb3J0\nIGphdmEudXRpbC5MaXN0Ow0KaW1wb3J0IGphdmF4LnBlcnNpc3RlbmNlLkVu\ndGl0eU1hbmFnZXI7DQppbXBvcnQgamF2YXgucGVyc2lzdGVuY2UuUXVlcnk7\nDQoNCmltcG9ydCBqdW5pdC50ZXh0dWkuVGVzdFJ1bm5lcjsNCmltcG9ydCBv\ncmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UuT3BlbkpQQUVudGl0eU1h\nbmFnZXI7DQppbXBvcnQgb3JnLmFwYWNoZS5vcGVuanBhLnBlcnNpc3RlbmNl\nLk9wZW5KUEFRdWVyeTsNCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEucGVy\nc2lzdGVuY2UudGVzdC5TUUxMaXN0ZW5lclRlc3RDYXNlOw0KDQoNCnB1Ymxp\nYyBjbGFzcyBUZXN0SW52ZXJzZUVhZ2VyU1FMDQogICAgZXh0ZW5kcyBTUUxM\naXN0ZW5lclRlc3RDYXNlIHsNCg0KICAgIHB1YmxpYyB2b2lkIHNldFVwKCkg\new0KICAgICAgICBzZXRVcChDdXN0b21lci5jbGFzcywgQ3VzdG9tZXIuQ3Vz\ndG9tZXJLZXkuY2xhc3MsIE9yZGVyLmNsYXNzLCANCiAgICAgICAgCUVudGl0\neUFJbnZlcnNlRWFnZXIuY2xhc3MsIEVudGl0eUExSW52ZXJzZUVhZ2VyLmNs\nYXNzLCBFbnRpdHlBMkludmVyc2VFYWdlci5jbGFzcywgDQogICAgICAgIAlF\nbnRpdHlCSW52ZXJzZUVhZ2VyLmNsYXNzLCBFbnRpdHlDSW52ZXJzZUVhZ2Vy\nLmNsYXNzLCBFbnRpdHlESW52ZXJzZUVhZ2VyLmNsYXNzKTsNCiAgICAgICAg\nDQogICAgICAgIEVudGl0eU1hbmFnZXIgZW0gPSBlbWYuY3JlYXRlRW50aXR5\nTWFuYWdlcigpOw0KICAgICAgICBlbS5nZXRUcmFuc2FjdGlvbigpLmJlZ2lu\nKCk7DQoNCiAgICAgICAgQ3VzdG9tZXIuQ3VzdG9tZXJLZXkgY2sgPSBuZXcg\nQ3VzdG9tZXIuQ3VzdG9tZXJLZXkoIlVTQSIsIDEpOw0KICAgICAgICBDdXN0\nb21lciBjID0gbmV3IEN1c3RvbWVyKCk7DQogICAgICAgIGMuc2V0Q2lkKGNr\nKTsNCiAgICAgICAgYy5zZXROYW1lKCJjdXN0b21lcjEiKTsNCiAgICAgICAg\nZW0ucGVyc2lzdChjKTsNCiAgICAgICAgDQogICAgICAgIGZvciAoaW50IGkg\nPSAwOyBpIDwgNDsgaSsrKSB7DQogICAgICAgICAgICBPcmRlciBvcmRlciA9\nIG5ldyBPcmRlcigpOw0KICAgICAgICAgICAgb3JkZXIuc2V0Q3VzdG9tZXIo\nYyk7DQogICAgICAgICAgICBlbS5wZXJzaXN0KG9yZGVyKTsNCiAgICAgICAg\nfQ0KDQogICAgICAgIEVudGl0eUFJbnZlcnNlRWFnZXIgYSA9IG5ldyBFbnRp\ndHlBSW52ZXJzZUVhZ2VyKCJhIik7DQogICAgICAgIGVtLnBlcnNpc3QoYSk7\nDQogICAgICAgIA0KICAgICAgICBFbnRpdHlBMUludmVyc2VFYWdlciBhMSA9\nIG5ldyBFbnRpdHlBMUludmVyc2VFYWdlcigiYTEiKTsNCiAgICAgICAgZW0u\ncGVyc2lzdChhMSk7DQogICAgICAgIA0KICAgICAgICBFbnRpdHlBMkludmVy\nc2VFYWdlciBhMiA9IG5ldyBFbnRpdHlBMkludmVyc2VFYWdlcigiYTIiKTsN\nCiAgICAgICAgZW0ucGVyc2lzdChhMik7DQoNCiAgICAgICAgZm9yIChpbnQg\naSA9IDA7IGkgPCA0OyBpKyspIHsNCiAgICAgICAgICAgIEVudGl0eUJJbnZl\ncnNlRWFnZXIgYiA9IG5ldyBFbnRpdHlCSW52ZXJzZUVhZ2VyKCJiIiArIGkp\nOw0KICAgICAgICAgICAgYS5hZGRCKGIpOw0KICAgICAgICAgICAgYi5zZXRB\nKGEpOw0KICAgICAgICAgICAgZW0ucGVyc2lzdChiKTsNCiAgICAgICAgfQ0K\nICAgICAgICANCiAgICAgICAgZm9yIChpbnQgaSA9IDQ7IGkgPCA4OyBpKysp\nIHsNCiAgICAgICAgICAgIEVudGl0eUJJbnZlcnNlRWFnZXIgYiA9IG5ldyBF\nbnRpdHlCSW52ZXJzZUVhZ2VyKCJiIiArIGkpOw0KICAgICAgICAgICAgYTEu\nYWRkQihiKTsNCiAgICAgICAgICAgIGIuc2V0QShhMSk7DQogICAgICAgICAg\nICBlbS5wZXJzaXN0KGIpOw0KICAgICAgICB9DQoNCiAgICAgICAgZm9yIChp\nbnQgaSA9IDg7IGkgPCAxMjsgaSsrKSB7DQogICAgICAgICAgICBFbnRpdHlC\nSW52ZXJzZUVhZ2VyIGIgPSBuZXcgRW50aXR5QkludmVyc2VFYWdlcigiYiIg\nKyBpKTsNCiAgICAgICAgICAgIGEyLmFkZEIoYik7DQogICAgICAgICAgICBi\nLnNldEEoYTIpOw0KICAgICAgICAgICAgZW0ucGVyc2lzdChiKTsNCiAgICAg\nICAgfQ0KICAgICAgICANCiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCA0\nOyBpKyspIHsNCiAgICAgICAgICAgIEVudGl0eUNJbnZlcnNlRWFnZXIgYzEg\nPSBuZXcgRW50aXR5Q0ludmVyc2VFYWdlcigiYyIraSwgaSwgaSk7DQogICAg\nICAgICAgICBlbS5wZXJzaXN0KGMxKTsNCg0KICAgICAgICAgICAgRW50aXR5\nREludmVyc2VFYWdlciBkMSA9IG5ldyBFbnRpdHlESW52ZXJzZUVhZ2VyKCJk\nIitpLCAiZCIraSwgaSwgaSk7DQogICAgICAgICAgICBlbS5wZXJzaXN0KGQx\nKTsNCg0KICAgICAgICAgICAgYzEuc2V0RChkMSk7DQogICAgICAgICAgICBk\nMS5zZXRDKGMxKTsNCiAgICAgICAgfQ0KICAgICAgICANCiAgICAgICAgZW0u\nZmx1c2goKTsNCiAgICAgICAgZW0uZ2V0VHJhbnNhY3Rpb24oKS5jb21taXQo\nKTsNCiAgICAgICAgZW0uY2xvc2UoKTsNCiAgICB9DQoNCiAgICBwdWJsaWMg\ndm9pZCB0ZXN0T25lVG9NYW55SW52ZXJzZUVhZ2VyUXVlcnkoKSB7DQogICAg\nICAgIHNxbC5jbGVhcigpOw0KDQogICAgICAgIE9wZW5KUEFFbnRpdHlNYW5h\nZ2VyIGVtID0gZW1mLmNyZWF0ZUVudGl0eU1hbmFnZXIoKTsNCiAgICAgICAg\nT3BlbkpQQVF1ZXJ5IHEgPSBlbS5jcmVhdGVRdWVyeSgiU0VMRUNUIGMgRlJP\nTSBDdXN0b21lciBjICIpOw0KICAgICAgICBMaXN0PEN1c3RvbWVyPiByZXMg\nPSBxLmdldFJlc3VsdExpc3QoKTsgDQoNCiAgICAgICAgYXNzZXJ0RXF1YWxz\nKDEsIHJlcy5zaXplKCkpOw0KDQogICAgICAgIGZvciAoaW50IGkgPSAwOyBp\nIDwgcmVzLnNpemUoKTsgaSsrKSB7DQogICAgICAgICAgICBDdXN0b21lciBj\nID0gKEN1c3RvbWVyKXJlcy5nZXQoaSk7DQogICAgICAgICAgICBDb2xsZWN0\naW9uPE9yZGVyPiBvcmRlcnMgPSBjLmdldE9yZGVycygpOw0KICAgICAgICAg\nICAgZm9yIChJdGVyYXRvcjxPcmRlcj4gaXRlcj1vcmRlcnMuaXRlcmF0b3Io\nKTsgaXRlci5oYXNOZXh0KCk7KSB7DQogICAgICAgICAgICAgICAgT3JkZXIg\nb3JkZXIgPSAoT3JkZXIpaXRlci5uZXh0KCk7DQogICAgICAgICAgICAgICAg\nYXNzZXJ0RXF1YWxzKG9yZGVyLmdldEN1c3RvbWVyKCksIGMpOw0KICAgICAg\nICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIA0KICAgICAgICBhc3NlcnRF\ncXVhbHMoMiwgc3FsLnNpemUoKSk7DQogICAgICAgIGVtLmNsb3NlKCk7DQog\nICAgfQ0KDQogICAgcHVibGljIHZvaWQgdGVzdE9uZVRvT25lSW52ZXJzZUVh\nZ2VyUXVlcnkoKSB7DQogICAgICAgIHNxbC5jbGVhcigpOw0KDQogICAgICAg\nIE9wZW5KUEFFbnRpdHlNYW5hZ2VyIGVtID0gZW1mLmNyZWF0ZUVudGl0eU1h\nbmFnZXIoKTsNCiAgICAgICAgU3RyaW5nIHF1ZXJ5ID0gInNlbGVjdCBjIEZS\nT00gRW50aXR5Q0ludmVyc2VFYWdlciBjIjsNCiAgICAgICAgUXVlcnkgcSA9\nIGVtLmNyZWF0ZVF1ZXJ5KHF1ZXJ5KTsNCiAgICAgICAgTGlzdDxFbnRpdHlD\nSW52ZXJzZUVhZ2VyPiByZXMgPSBxLmdldFJlc3VsdExpc3QoKTsNCiAgICAg\nICAgYXNzZXJ0RXF1YWxzKDQsIHJlcy5zaXplKCkpOw0KDQogICAgICAgIGZv\nciAoaW50IGkgPSAwOyBpIDwgcmVzLnNpemUoKTsgaSsrKSB7DQogICAgICAg\nICAgICBFbnRpdHlDSW52ZXJzZUVhZ2VyIGMgPSAoRW50aXR5Q0ludmVyc2VF\nYWdlcilyZXMuZ2V0KGkpOw0KICAgICAgICAgICAgRW50aXR5REludmVyc2VF\nYWdlciBkID0gYy5nZXREKCk7DQogICAgICAgICAgICBhc3NlcnRFcXVhbHMo\nYywgZC5nZXRDKCkpOw0KICAgICAgICB9DQoNCiAgICAgICAgYXNzZXJ0RXF1\nYWxzKDEsIHNxbC5zaXplKCkpOw0KICAgICAgICBlbS5jbG9zZSgpOw0KICAg\nIH0NCg0KICAgIHB1YmxpYyB2b2lkIHRlc3RPbmVUb01hbnlJbmhlcml0YW5j\nZVF1ZXJ5KCkgew0KICAgICAgICBzcWwuY2xlYXIoKTsNCg0KICAgICAgICBP\ncGVuSlBBRW50aXR5TWFuYWdlciBlbSA9IGVtZi5jcmVhdGVFbnRpdHlNYW5h\nZ2VyKCk7DQogICAgICAgIFN0cmluZyBxdWVyeSA9ICJzZWxlY3QgYSBGUk9N\nIEVudGl0eUExSW52ZXJzZUVhZ2VyIGEiOw0KICAgICAgICBRdWVyeSBxID0g\nZW0uY3JlYXRlUXVlcnkocXVlcnkpOw0KICAgICAgICBMaXN0IGxpc3QgPSBx\nLmdldFJlc3VsdExpc3QoKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKDEsIGxp\nc3Quc2l6ZSgpKTsNCiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBsaXN0\nLnNpemUoKTsgaSsrKSB7DQogICAgICAgICAgICBFbnRpdHlBMUludmVyc2VF\nYWdlciBhMSA9IChFbnRpdHlBMUludmVyc2VFYWdlcilsaXN0LmdldChpKTsN\nCiAgICAgICAgICAgIENvbGxlY3Rpb248RW50aXR5QkludmVyc2VFYWdlcj4g\nbGlzdEIgPSBhMS5nZXRMaXN0QigpOw0KICAgICAgICAgICAgYXNzZXJ0RXF1\nYWxzKDQsIGxpc3RCLnNpemUoKSk7DQogICAgICAgICAgICBmb3IgKEl0ZXJh\ndG9yIGl0ZXI9bGlzdEIuaXRlcmF0b3IoKTsgaXRlci5oYXNOZXh0KCk7KSB7\nDQogICAgICAgICAgICAgICAgRW50aXR5QkludmVyc2VFYWdlciBiID0gKEVu\ndGl0eUJJbnZlcnNlRWFnZXIpaXRlci5uZXh0KCk7DQogICAgICAgICAgICAg\nICAgRW50aXR5QUludmVyc2VFYWdlciBhID0gYi5nZXRBKCk7DQogICAgICAg\nICAgICAgICAgYXNzZXJ0RXF1YWxzKGExLCBhKTsNCiAgICAgICAgICAgIH0N\nCiAgICAgICAgfQ0KICAgICAgICBhc3NlcnRFcXVhbHMoMywgc3FsLnNpemUo\nKSk7DQogICAgICAgIHNxbC5jbGVhcigpOw0KDQogICAgICAgIHF1ZXJ5ID0g\nInNlbGVjdCBhIEZST00gRW50aXR5QTJJbnZlcnNlRWFnZXIgYSI7DQogICAg\nICAgIHEgPSBlbS5jcmVhdGVRdWVyeShxdWVyeSk7DQogICAgICAgIGxpc3Qg\nPSBxLmdldFJlc3VsdExpc3QoKTsNCiAgICAgICAgYXNzZXJ0RXF1YWxzKDEs\nIGxpc3Quc2l6ZSgpKTsNCiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBs\naXN0LnNpemUoKTsgaSsrKSB7DQogICAgICAgICAgICBFbnRpdHlBMkludmVy\nc2VFYWdlciBhMiA9IChFbnRpdHlBMkludmVyc2VFYWdlcilsaXN0LmdldChp\nKTsNCiAgICAgICAgICAgIENvbGxlY3Rpb24gbGlzdEIgPSBhMi5nZXRMaXN0\nQigpOw0KICAgICAgICAgICAgYXNzZXJ0RXF1YWxzKDQsIGxpc3RCLnNpemUo\nKSk7DQogICAgICAgICAgICBmb3IgKEl0ZXJhdG9yIGl0ZXI9bGlzdEIuaXRl\ncmF0b3IoKTsgaXRlci5oYXNOZXh0KCk7KSB7DQogICAgICAgICAgICAgICAg\nRW50aXR5QkludmVyc2VFYWdlciBiID0gKEVudGl0eUJJbnZlcnNlRWFnZXIp\naXRlci5uZXh0KCk7DQogICAgICAgICAgICAgICAgRW50aXR5QUludmVyc2VF\nYWdlciBhID0gYi5nZXRBKCk7DQogICAgICAgICAgICAgICAgYXNzZXJ0RXF1\nYWxzKGEyLCBhKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAg\nICBhc3NlcnRFcXVhbHMoMywgc3FsLnNpemUoKSk7DQogICAgICAgIHNxbC5j\nbGVhcigpOw0KICAgICAgICANCiAgICAgICAgcXVlcnkgPSAic2VsZWN0IGEg\nRlJPTSBFbnRpdHlBSW52ZXJzZUVhZ2VyIGEiOw0KICAgICAgICBxID0gZW0u\nY3JlYXRlUXVlcnkocXVlcnkpOw0KICAgICAgICBsaXN0ID0gcS5nZXRSZXN1\nbHRMaXN0KCk7DQogICAgICAgIGFzc2VydEVxdWFscygzLCBsaXN0LnNpemUo\nKSk7DQogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgbGlzdC5zaXplKCk7\nIGkrKykgew0KICAgICAgICAgICAgRW50aXR5QUludmVyc2VFYWdlciBhMCA9\nIChFbnRpdHlBSW52ZXJzZUVhZ2VyKWxpc3QuZ2V0KGkpOw0KICAgICAgICAg\nICAgQ29sbGVjdGlvbiBsaXN0QiA9IGEwLmdldExpc3RCKCk7DQogICAgICAg\nICAgICBhc3NlcnRFcXVhbHMoNCwgbGlzdEIuc2l6ZSgpKTsNCiAgICAgICAg\nICAgIGZvciAoSXRlcmF0b3IgaXRlcj1saXN0Qi5pdGVyYXRvcigpOyBpdGVy\nLmhhc05leHQoKTspIHsNCiAgICAgICAgICAgICAgICBFbnRpdHlCSW52ZXJz\nZUVhZ2VyIGIgPSAoRW50aXR5QkludmVyc2VFYWdlcilpdGVyLm5leHQoKTsN\nCiAgICAgICAgICAgICAgICBFbnRpdHlBSW52ZXJzZUVhZ2VyIGEgPSBiLmdl\ndEEoKTsNCiAgICAgICAgICAgICAgICBhc3NlcnRFcXVhbHMoYTAsIGEpOw0K\nICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIA0KICAgICAgICBh\nc3NlcnRFcXVhbHMoMiwgc3FsLnNpemUoKSk7DQogICAgICAgIGVtLmNsb3Nl\nKCk7DQogICAgfQ0KDQogICAgcHVibGljIHN0YXRpYyB2b2lkIG1haW4oU3Ry\naW5nW10gYXJncykgew0KICAgICAgICBUZXN0UnVubmVyLnJ1bihUZXN0SW52\nZXJzZUVhZ2VyU1FMLmNsYXNzKTsNCiAgICB9DQp9DQoNCg==\n","encoding":"base64"}

