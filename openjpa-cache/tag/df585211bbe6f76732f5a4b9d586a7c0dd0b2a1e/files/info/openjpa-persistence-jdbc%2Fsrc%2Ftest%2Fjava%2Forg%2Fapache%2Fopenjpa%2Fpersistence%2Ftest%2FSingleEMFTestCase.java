{"sha":"8901028828178fd1758902663f4c6ea734a92efa","node_id":"MDQ6QmxvYjIwNjM2NDo4OTAxMDI4ODI4MTc4ZmQxNzU4OTAyNjYzZjRjNmVhNzM0YTkyZWZh","size":4298,"url":"https://api.github.com/repos/apache/openjpa/git/blobs/8901028828178fd1758902663f4c6ea734a92efa","content":"LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0\naW9uIChBU0YpIHVuZGVyIG9uZQogKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxp\nY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKICogZGlz\ndHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3Jt\nYXRpb24KICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUg\nQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQogKiB0byB5b3UgdW5kZXIgdGhlIEFw\nYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiAqICJMaWNlbnNlIik7\nIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFu\nY2UKICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29w\neSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v\ncmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVk\nIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAog\nKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBk\naXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdB\nUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVy\nIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhl\nCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBh\nbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuICAgIAogKi8K\ncGFja2FnZSBvcmcuYXBhY2hlLm9wZW5qcGEucGVyc2lzdGVuY2UudGVzdDsK\nCmltcG9ydCBvcmcuYXBhY2hlLm9wZW5qcGEuamRiYy5tZXRhLkNsYXNzTWFw\ncGluZzsKaW1wb3J0IG9yZy5hcGFjaGUub3BlbmpwYS5wZXJzaXN0ZW5jZS5P\ncGVuSlBBRW50aXR5TWFuYWdlckZhY3RvcnlTUEk7CgovKioKICogQmFzZSBj\nbGFzcyBmb3IgT3BlbkpQQS1zcGVjaWZpYyBUZXN0IENhc2UuCiAqIFByb3Zp\nZGVzIHV0aWxpdGllcyBmb3IgY29uZmlndXJhdGlvbiBzZXR1cCBhbmQgcGVy\nc2lzdGVudCBlbnRpdHkgCiAqIHJlZ2lzdHJhdGlvbiBkdXJpbmcgc2V0VXAo\nKSBtZXRob2QuCiAqIERlcml2ZWQgY2xhc3NlcyBjYW4gYWNjZXNzIHByb3Rl\nY3RlZCBFbnRpdHlNYW5hZ2VyRmFjdG9yeSB0byBjcmVhdGUgCiAqIEVudGl0\neU1hbmFnZXIuIFRoZSBwcm90ZWN0ZWQgRW50aXR5TWFuYWdlckZhY3Rvcnkg\naXMgZGVjbGFyZWQgdG8gYmUKICogT3BlbkpQQS1leHRlbmRlZCBTUEkgaW50\nZXJmYWNlIDxjb2RlPk9wZW5KUEFFbnRpdHlNYW5hZ2VyRmFjdG9yeVNQSTwv\nY29kZT4KICogc28gdGhhdCBkZXJpdmVkIGNsYXNzZXMgY2FuIGFjY2VzcyBp\nbnRlcm5hbCBtYXBwaW5nL21ldGFkYXRhL2NvbmZpZ3VyYXRpb24KICogYW5k\nIG90aGVyIHN0cnVjdHVyZXMuICAKICogICAKICovCnB1YmxpYyBhYnN0cmFj\ndCBjbGFzcyBTaW5nbGVFTUZUZXN0Q2FzZQogICAgZXh0ZW5kcyBQZXJzaXN0\nZW5jZVRlc3RDYXNlIHsKCiAgICBwcm90ZWN0ZWQgT3BlbkpQQUVudGl0eU1h\nbmFnZXJGYWN0b3J5U1BJIGVtZjsKCiAgICAvKioKICAgICAqIENhbGwge0Bs\naW5rICNzZXRVcChPYmplY3QuLi4pfSB3aXRoIG5vIGFyZ3VtZW50cyBzbyB0\naGF0IHRoZSBlbWYKICAgICAqIHNldC11cCBoYXBwZW5zIGV2ZW4gaWYgPGNv\nZGU+c2V0VXAoKTwvY29kZT4gaXMgbm90IGNhbGxlZCBmcm9tIHRoZQogICAg\nICogc3ViY2xhc3MuCiAgICAgKi8KICAgIHB1YmxpYyB2b2lkIHNldFVwKCkg\ndGhyb3dzIEV4Y2VwdGlvbiB7CiAgICAgICAgc2V0VXAobmV3IE9iamVjdFsw\nXSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBJbml0aWFsaXplIGVudGl0eSBt\nYW5hZ2VyIGZhY3RvcnkuIFB1dCB7QGxpbmsgI0NMRUFSX1RBQkxFU30gaW4K\nICAgICAqIHRoaXMgbGlzdCB0byB0ZWxsIHRoZSB0ZXN0IGZyYW1ld29yayB0\nbyBkZWxldGUgYWxsIHRhYmxlIGNvbnRlbnRzCiAgICAgKiBiZWZvcmUgcnVu\nbmluZyB0aGUgdGVzdHMuCiAgICAgKgogICAgICogQHBhcmFtIHByb3BzIGxp\nc3Qgb2YgcGVyc2lzdGVudCB0eXBlcyB1c2VkIGluIHRlc3RpbmcgYW5kL29y\nIAogICAgICogY29uZmlndXJhdGlvbiB2YWx1ZXMgaW4gdGhlIGZvcm0ga2V5\nLHZhbHVlLGtleSx2YWx1ZS4uLgogICAgICovCiAgICBwcm90ZWN0ZWQgdm9p\nZCBzZXRVcChPYmplY3QuLi4gcHJvcHMpIHsKICAgICAgICBlbWYgPSBjcmVh\ndGVFTUYocHJvcHMpOwogICAgfQoKICAgIC8qKgogICAgICogQ2xvc2VzIHRo\nZSBlbnRpdHkgbWFuYWdlciBmYWN0b3J5LgogICAgICovCiAgICBwdWJsaWMg\ndm9pZCB0ZWFyRG93bigpIHRocm93cyBFeGNlcHRpb24gewogICAgICAgIHN1\ncGVyLnRlYXJEb3duKCk7CgogICAgICAgIGlmIChlbWYgPT0gbnVsbCkKICAg\nICAgICAgICAgcmV0dXJuOwoKICAgICAgICB0cnkgewogICAgICAgICAgICBj\nbGVhcihlbWYpOwogICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7CiAg\nICAgICAgICAgIC8vIGlmIGEgdGVzdCBmYWlsZWQsIHN3YWxsb3cgYW55IGV4\nY2VwdGlvbnMgdGhhdCBoYXBwZW4KICAgICAgICAgICAgLy8gZHVyaW5nIHRl\nYXItZG93biwgYXMgdGhlc2UganVzdCBtYXNrIHRoZSBvcmlnaW5hbCBwcm9i\nbGVtLgogICAgICAgICAgICBpZiAodGVzdFJlc3VsdC53YXNTdWNjZXNzZnVs\nKCkpCiAgICAgICAgICAgICAgICB0aHJvdyBlOwogICAgICAgIH0gZmluYWxs\neSB7CiAgICAgICAgICAgIGNsb3NlRU1GKGVtZik7CiAgICAgICAgfQogICAg\nfQogICAgCiAgICAvKioKICAgICAqIEdldCB0aGUgY2xhc3MgbWFwcGluZyBm\nb3IgYSBnaXZlbiBlbnRpdHkKICAgICAqIAogICAgICogQHBhcmFtIG5hbWUg\nVGhlIEVudGl0eSdzIG5hbWUuCiAgICAgKiAKICAgICAqIEByZXR1cm4gSWYg\ndGhlIGVudGl0eSBpcyBhIGtub3duIHR5cGUgdGhlIENsYXNzTWFwcGluZyBm\nb3IgdGhlIEVudGl0eQogICAgICogICAgICAgICB3aWxsIGJlIHJldHVybmVk\nLiBPdGhlcndpc2UgbnVsbAogICAgICovCiAgICBwcm90ZWN0ZWQgQ2xhc3NN\nYXBwaW5nIGdldE1hcHBpbmcoU3RyaW5nIG5hbWUpIHsKICAgICAgICByZXR1\ncm4gKENsYXNzTWFwcGluZykgZW1mLmdldENvbmZpZ3VyYXRpb24oKQogICAg\nICAgICAgICAgICAgLmdldE1ldGFEYXRhUmVwb3NpdG9yeUluc3RhbmNlKCku\nZ2V0TWV0YURhdGEobmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgZ2V0\nQ2xhc3MoKS5nZXRDbGFzc0xvYWRlcigpLCB0cnVlKTsKICAgIH0KICAgIAog\nICAgLyoqCiAgICAgKiBHZXQgdGhlIGNsYXNzIG1hcHBpbmcgZm9yIGEgZ2l2\nZW4gZW50aXR5CiAgICAgKiAKICAgICAqIEBwYXJhbSBlbnRpdHlDbGFzcyBh\nbiBlbnRpdHkgY2xhc3MuCiAgICAgKiAKICAgICAqIEByZXR1cm4gSWYgdGhl\nIGVudGl0eSBpcyBhIGtub3duIHR5cGUgdGhlIENsYXNzTWFwcGluZyBmb3Ig\ndGhlIEVudGl0eQogICAgICogICAgICAgICB3aWxsIGJlIHJldHVybmVkLiBP\ndGhlcndpc2UgbnVsbAogICAgICovCiAgICBwcm90ZWN0ZWQgQ2xhc3NNYXBw\naW5nIGdldE1hcHBpbmcoQ2xhc3M8Pz4gZW50aXR5Q2xhc3MpIHsKICAgICAg\nICByZXR1cm4gKENsYXNzTWFwcGluZykgZW1mLmdldENvbmZpZ3VyYXRpb24o\nKQogICAgICAgICAgICAgICAgLmdldE1ldGFEYXRhUmVwb3NpdG9yeUluc3Rh\nbmNlKCkuZ2V0TWV0YURhdGEoZW50aXR5Q2xhc3MsCiAgICAgICAgICAgICAg\nICAgICAgICAgIGdldENsYXNzKCkuZ2V0Q2xhc3NMb2FkZXIoKSwgdHJ1ZSk7\nCiAgICB9CiAgICAKICAgIC8qKgogICAgICogR2V0IG51bWJlciBvZiBpbnN0\nYW5jZXMgYnkgYW4gYWdncmVnYXRlIHF1ZXJ5IHdpdGggdGhlIGdpdmVuIGFs\naWFzLgogICAgICovCiAgICBwdWJsaWMgaW50IGNvdW50KFN0cmluZyBhbGlh\ncykgewogICAgCXJldHVybiAoKE51bWJlcillbWYuY3JlYXRlRW50aXR5TWFu\nYWdlcigpCiAgICAJCQkJCSAgIC5jcmVhdGVRdWVyeSgiU0VMRUNUIENPVU5U\nKHApIEZST00gIiArIGFsaWFzICsgIiBwIikKICAgIAkJCQkJICAgLmdldFNp\nbmdsZVJlc3VsdCgpKS5pbnRWYWx1ZSgpOwogICAgfQogICAgCiAgICAvKioK\nICAgICAqIENvdW50IG51bWJlciBvZiBpbnN0YW5jZXMgb2YgdGhlIGdpdmVu\nIGNsYXNzIGFzc3VtaW5nIHRoYXQgdGhlIGFsaWFzCiAgICAgKiBmb3IgdGhl\nIGNsYXNzIGlzIGl0cyBzaW1wbGUgbmFtZS4KICAgICAqLwogICAgcHVibGlj\nIGludCBjb3VudChDbGFzcyBjKSB7CiAgICAJcmV0dXJuIGNvdW50KGMuZ2V0\nU2ltcGxlTmFtZSgpKTsKICAgIH0KfQo=\n","encoding":"base64"}

